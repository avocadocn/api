swagger: "2.0"
info:
  title: Donler API v1
  description: Donler API v1
  version: 1.0.0
host: "localhost:3002"
schemes:
  - http
produces:
  - application/json
  - text/plain
paths:
  /users/login:
    post:
      tags:
        - users
      summary: 用户登录
      operationId: userLogin
      consumes:
        - application/json
      parameters:
        - name: body
          schema:
            $ref: LoginForm
          in: body
          required: true
          description: 登录邮箱和密码
      responses:
        "400":
          description: 邮箱格式不正确或未填写邮箱或密码
          schema:
            $ref: ErrorMsg
        "401":
          description: 邮箱或密码错误
        "200":
          description: 登录成功后返回的数据
          schema:
            $ref: LoginSuccess
  /users/logout:
    get:
      tags:
        - users
      summary: 用户注销
      operationId: userLogout
      responses:
        "401":
          description: 未登录
        "204":
          description: 注销成功
  /users:
    post:
      tags:
        - users
      summary: 注册用户
      operationId: registerUser
      parameters:
        - name: body
          schema:
            $ref: UserRegisterForm
          in: body
          required: true
          description: 用户注册表单数据
      responses:
        "201":
          description: 注册成功
        "400":
          description: 填写信息有误
          schema:
            $ref: ErrorMsg
  "/users/{userId}":
    get:
      tags:
        - users
      summary: 获取用户数据
      operationId: getUserData
      parameters:
        - name: userId
          description: 用户id
          required: true
          type: string
          in: path
      responses:
        "401":
          description: 未登录
        "200":
          description: 用户数据
          schema:
            $ref: User
    patch:
      tags:
        - users
      summary: 修改用户数据
      operationId: editUserData
      consumes:
        - multipart/form-data
      parameters:
        - name: userId
          description: 用户id
          required: true
          type: string
          in: path
        - name: nickname
          description: 昵称
          required: false
          type: string
          in: formData
        - name: photo
          description: 头像
          required: false
          type: file
          in: formData
        - name: password
          description: 密码
          required: false
          type: string
          in: formData
        - name: realname
          description: 真实姓名
          required: false
          type: string
          in: formData
        - name: intro
          description: 简介
          required: false
          type: string
          in: formData
        - name: phone
          description: 手机号码
          required: false
          type: string
          in: formData
        - name: qq
          description: QQ号码
          required: false
          type: string
          in: formData
      responses:
        "200":
          description: 修改成功
        "401":
          description: 未登录
    delete:
      tags:
        - users
      summary: 屏蔽用户
      operationId: deleteUser
      responses:
        "401":
          description: 未登录
        "403":
          description: 没有权限
        "204":
          description: 屏蔽成功
  /companies:
    post:
      tags:
        - companies
      summary: 注册公司账号(todo)
      operationId: addCompany
      consumes:
        - application/json
      produces:
        - text/plain
      parameters:
        - name: body
          description: 注册表单数据
          required: true
          schema:
            $ref: CompanyRegisterForm
          in: body
      responses:
        "201":
          description: 注册成功
        "400":
          description: 无效的数据（邮箱、手机号等输入错误）
  "/companies/{companyId}":
    get:
      tags:
        - companies
      summary: 获取公司信息
      operationId: getCompany
      produces:
        - application/json
      parameters:
        - name: companyId
          description: 公司id
          required: true
          type: string
          in: path
      responses:
        "200":
          description: 公司数据
          schema:
            $ref: Company
        "401":
          description: 未登录
    patch:
      tags:
        - companies
      summary: 修改公司数据
      consumes:
        - multipart/form-data
      parameters:
        - name: companyId
          description: 公司id
          required: true
          type: string
          in: path
        - name: name
          description: 简称
          required: false
          type: string
          in: formData
        - name: logo
          description: logo
          required: false
          type: file
          in: formData
        - name: password
          description: 密码
          required: false
          type: string
          in: formData
        - name: domain
          description: 邮箱后缀(可以是多个，用空格区分)
          required: false
          type: array
          items:
            type: string
          collectionFormat: ssv
          in: formData
        - name: province
          description: 省份
          required: false
          type: string
          in: formData
        - name: city
          description: 城市
          required: false
          type: string
          in: formData
        - name: district
          description: 区
          required: false
          type: string
          in: formData
        - name: address
          description: 地址
          required: false
          type: string
          in: formData
        - name: contacts
          description: 联系人
          required: false
          type: string
          in: formData
        - name: areacode
          description: 区号
          required: false
          type: string
          in: formData
        - name: tel
          description: 电话号码
          required: false
          type: string
          in: formData
        - name: extension
          description: 分机
          required: false
          type: string
          in: formData
        - name: intro
          description: 简介
          required: false
          type: string
          in: formData
        - name: phone
          description: 手机号码
          required: false
          type: string
          in: formData
        - name: email
          description: 企业邮箱
          required: false
          type: string
          in: formData
      responses:
        "200":
          description: 修改成功
  /companies/validate:
    post:
      tags:
        - companies
      summary: 验证某个属性是否已被使用
  "/companies/{companyId}/teams":
    get:
      tags:
        - companies
      summary: 获取公司小队数据
  "/companies/{companyId}/members":
    get:
      tags:
        - companies
      summary: 获取公司成员
  "/companies/{companyId}/departments":
    get:
      tags:
        - companies
      summary: 获取公司部门数据
  "/companies/{companyId}/tags":
    get:
      tags:
        - companies
      summary: 获取公司相关标签

  /teams:
    post:
      tags:
        - teams
      summary: 创建小队
  "/teams/{teamId}":
    get:
      tags:
        - teams
      summary: 获取小队数据
    patch:
      tags:
        - teams
      summary: 修改小队数据
    delete:
      tags:
        - teams
      summary: 关闭小队
  "/teams/{teamId}/family_photos":
    post:
      tags:
        - teams
      summary: 上传全家福
    get:
      tags:
        - teams
      summary: 获取全家福
  "/teams/{teamId}/family_photos/{familyPhotoId}":
    put:
      tags:
        - teams
      summary: 修改选中状态
    delete:
      tags:
        - teams
      summary: 删除全家福照片
  "/teams/{teamId}/users/{userId}":
    put:
      tags:
        - teams
      summary: 加入小队
    delete:
      tags:
        - teams
      summary: 退出小队

  /departments:
    post:
      tags:
        - departments
      summary: 创建部门
  "/departments/{departmentId}":
    get:
      tags:
        - departments
      summary: 获取部门数据
    patch:
      tags:
        - departments
      summary: 修改部门
    delete:
      tags:
        - departments
      summary: 删除部门
  "/departments/{departmentId}/users/{userId}":
    put:
      tags:
        - departments
      summary: 加入部门
    delete:
      tags:
        - departments
      summary: 退出部门

  /campaigns:
    post:
      tags:
        - campaigns
      summary: 发起活动
      operationId: addCampaign
      parameters:
        - name: body
          description: Campaign object that needs to be added to the store
          required: true
          schema:
            $ref: Campaign
          in: body
      responses:
        "200":
          description: 发起成功
          schema:
            $ref: AddCampaignSuccess
        "400":
          description: 无效的数据
        "500":
          description: 创建活动组件发出错误
    get:
      tags:
        - campaigns
      summary: 获取活动列表
      operationId: getCampaign
      parameters:
        - name: hostType
          description: hostType
          required: true
          type: string
          in: query
          enum:
            - user
            - team
            - company
        - name: hostId
          description: hostId
          required: true
          type: string
          in: query
        - name: start_time
          description: start_time
          required: false
          type: string
          in: query
        - name: end_time
          description: end_time
          required: false
          type: string
          in: query
        - name: join_flag
          description: join_flag
          required: false
          type: string
          in: query
        - name: lastcomment_time
          description: join_flag
          required: false
          type: string
          in: query
        - name: orderby
          description: orderby
          required: false
          type: string
          in: query
      responses:
        "200":
          description: 成功
          schema:
            type: array
            items:
              $ref: Campaign
        default:
          description: 默认返回
  "/campaigns/{campaignId}":
    get:
      tags:
        - campaigns
      summary: 获取单个活动
      operationId: getCampaignById
      parameters:
        - name: campaignId
          description: 活动 Id
          required: true
          type: string
          in: path
      responses:
        "200":
          description: 成功
          schema:
            $ref: Campaign
        "400":
          description: 缺少id
        "404":
          description: 未找到活动
    patch:
      tags:
        - campaigns
      summary: 修改活动
      operationId: updateCampaign
      consumes:
        - application/json
      parameters:
        - name: campaignId
          description: 活动 Id
          required: true
          type: string
          in: path
        - name: body
          description: Campaign object that needs to be added to the store
          required: true
          schema:
            $ref: Campaign
          in: body
      responses:
        "200":
          description: 成功
          schema:
            $ref: Campaign
        "400":
          description: 缺少id
        "403":
          description: 没有权限
        "404":
          description: 未找到活动
    delete:
      tags:
        - campaigns
      summary: 关闭活动
      operationId: closeCampaign
      consumes:
        - application/json
      parameters:
        - name: campaignId
          description: 活动 Id
          required: true
          type: string
          in: path
      responses:
        "200":
          description: 成功
        "400":
          description: 缺少id
        "403":
          description: 没有权限
        "404":
          description: 未找到活动
  "/campaigns/{campaignId}/users/{userId}":
    post:
      tags:
        - campaigns
      summary: 参加活动
      operationId: joinCampaign
      consumes:
        - application/json
      parameters:
        - name: campaignId
          description: 活动 Id
          required: true
          type: string
          in: path
        - name: userId
          description: 用户 Id
          required: true
          type: string
          in: path
      responses:
        "200":
          description: 成功
        "400":
          description: 缺少id
        "403":
          description: 没有权限
        "404":
          description: 未找到活动
    delete:
      tags:
        - campaigns
      summary: 退出活动
      operationId: quitCampaign
      consumes:
        - application/json
      parameters:
        - name: campaignId
          description: 活动 Id
          required: true
          type: string
          in: path
        - name: userId
          description: 用户 Id
          required: true
          type: string
          in: path
      responses:
        "200":
          description: 成功
        "400":
          description: 缺少id
        "403":
          description: 没有权限
        "404":
          description: 未找到活动

  "/timeline/record/{hostType}/{hostId}":
    get:
      tags:
        - timeline
      summary: 获取timeline记录
      operationId: getTimelinesRecord
      consumes:
        - application/json
      parameters:
        - name: hostType
          description: 主体类型
          required: true
          type: string
          in: path
        - name: hostId
          description: 主体Id
          required: true
          type: string
          in: path
      responses:
        "200":
          description: 成功
          schema:
            type: array
            items:
              $ref: TimelineRecord
        "403":
          description: 没有权限
        "404":
          description: 找不到
  "/timeline/data/{hostType}/{hostId}":
    get:
      tags:
        - timeline
      summary: 获取timline数据
      operationId: getTimelinesData
      consumes:
        - application/json
      parameters:
        - name: hostType
          description: 主体类型
          required: true
          type: string
          in: path
        - name: hostId
          description: 主体Id
          required: true
          type: string
          in: path
      responses:
        "200":
          description: 成功
          schema:
            $ref: TimelineData
        "403":
          description: 没有权限
        "404":
          description: 找不到

  /photo_albums:
    post:
      tags:
        - photoAlbums
      summary: 创建相册
      operationId: createPhotoAlbum
      consumes:
        - application/json
      parameters:
        - name: body
          description: 相册信息
          required: true
          type: PhotoAlbum
          in: body
      responses:
        "200":
          description: 成功
        "403":
          description: 没有权限
  "/photo_albums/{photoAlbumId}":
    get:
      tags:
        - photoAlbums
      summary: 获取相册数据
      operationId: getPhotoAlbum
      consumes:
        - application/json
      parameters:
        - name: photoAlbumId
          description: 相册 Id
          required: true
          type: string
          in: path
      responses:
        "200":
          description: 成功
        "400":
          description: 缺少id
        "403":
          description: 没有权限
        "404":
          description: 未找到相册
    patch:
      tags:
        - photoAlbums
      summary: 修改相册数据
      operationId: updatePotoAlbum
      consumes:
        - application/json
      parameters:
        - name: photoAlbumId
          description: 相册 Id
          required: true
          type: string
          in: path
      responses:
        "200":
          description: 成功
        "400":
          description: 缺少id
        "403":
          description: 没有权限
        "404":
          description: 未找到相册
    delete:
      tags:
        - photoAlbums
      summary: 删除相册
      operationId: deletePhotoAlbum
      consumes:
        - application/json
      parameters:
        - name: photoAlbumId
          description: 相册 Id
          required: true
          type: string
          in: path
      responses:
        "200":
          description: 成功
        "400":
          description: 缺少id
        "403":
          description: 没有权限
        "404":
          description: 未找到相册
  "/photo_albums/{photoAlbumId}/photos":
    post:
      tags:
        - photoAlbums
      summary: 上传照片
      operationId: createPhoto
      consumes:
        - application/json
      parameters:
        - name: photoAlbumId
          description: 相册 Id
          required: true
          type: string
          in: path
        - name: body
          description: 照片信息
          required: true
          type: Photo
          in: body
      responses:
        "200":
          description: 成功
        "403":
          description: 没有权限
  "/photo_albums/{photoAlbumId}/photos/{photoId}":
    get:
      tags:
        - photoAlbums
      summary: 获取照片数据
      operationId: getPhoto
      consumes:
        - application/json
      parameters:
        - name: photoAlbumId
          description: 相册 Id
          required: true
          type: string
          in: path
        - name: photoId
          description: 照片Id
          required: true
          type: string
          in: path
      responses:
        "200":
          description: 成功
        "403":
          description: 没有权限
        "404":
          description: 未找到相册
    patch:
      tags:
        - photoAlbums
      summary: 修改照片数据
      operationId: updatePhoto
      consumes:
        - application/json
      parameters:
        - name: photoAlbumId
          description: 相册 Id
          required: true
          type: string
          in: path
        - name: photoId
          description: 照片Id
          required: true
          type: string
          in: path
        - name: body
          description: 照片信息
          required: true
          type: Photo
          in: body
      responses:
        "200":
          description: 成功
        "403":
          description: 没有权限
        "404":
          description: 未找到相册
    delete:
      tags:
        - photoAlbums
      summary: 删除照片
      operationId: updatePhoto
      consumes:
        - application/json
      parameters:
        - name: photoAlbumId
          description: 相册 Id
          required: true
          type: string
          in: path
        - name: photoId
          description: 照片Id
          required: true
          type: string
          in: path
      responses:
        "200":
          description: 成功
        "403":
          description: 没有权限
        "404":
          description: 未找到相册

  /comments:
    post:
      tags:
        - comments
      summary: 发表评论
      operationId: createComments
      consumes:
        - application/json
      parameters:
        - name: body
          description: 评论信息
          required: true
          type: Comment
          in: body
      responses:
        "200":
          description: 成功
        "403":
          description: 没有权限
    get:
      tags:
        - comments
      summary: 获取评论
      operationId: getComments
      consumes:
        - application/json
      parameters:
        - name: hostType
          description: 主体类型
          required: true
          type: string
          in: query
        - name: hostId
          description: 主题Id
          required: true
          type: string
          in: query
      responses:
        "200":
          description: 成功
        "403":
          description: 没有权限
        "404":
          description: 找不到
  "/comments/{commentId}":
    get:
      tags:
        - comments
      summary: 获取一条评论
      operationId: getComment
      consumes:
        - application/json
      parameters:
        - name: commentId
          description: 评论Id
          required: true
          type: Comment
          in: path
      responses:
        "200":
          description: 成功
        "403":
          description: 没有权限
        "404":
          description: 没有找到该评论
    delete:
      tags:
        - comments
      summary: 删除评论
      operationId: deleteComment
      consumes:
        - application/json
      parameters:
        - name: commentId
          description: 评论Id
          required: true
          type: string
          in: path
      responses:
        "200":
          description: 成功
        "403":
          description: 没有权限
        "404":
          description: 找不到

  /messages:
    post:
      tags:
        - messages
      summary: 发站内信
      operationId: createMessage
      consumes:
        - application/json
      parameters:
        - name: body
          description: 站内信信息
          required: true
          type: Message
          in: body
      responses:
        "200":
          description: 成功
        "403":
          description: 没有权限
    get:
      tags:
        - messages
      summary: 获取评论
      operationId: getComments
      consumes:
        - application/json
      parameters:
        - name: hostType
          description: 主体类型
          required: true
          type: string
          in: query
        - name: hostId
          description: 主题Id
          required: true
          type: string
          in: query
      responses:
        "200":
          description: 成功
        "403":
          description: 没有权限
        "404":
          description: 找不到
  "/messages/{messageId}":
    patch:
      tags:
        - messages
      summary: 修改站内信
      operationId: upadateMessage
      consumes:
        - application/json
      parameters:
        - name: messageId
          description: 站内信Id
          required: true
          type: string
          in: path
        - name: body
          description: 站内信信息
          required: true
          type: Message
          in: body
      responses:
        "200":
          description: 成功
        "403":
          description: 没有权限
    get:
      tags:
        - messages
      summary: 获取评论
      operationId: getComments
      consumes:
        - application/json
      parameters:
        - name: messageId
          description: 站内信Id
          required: true
          type: string
          in: path
      responses:
        "200":
          description: 成功
        "403":
          description: 没有权限
        "404":
          description: 找不到

  /invitecode:
    post:
      tags:
        - invitecode
      summary: 创建邀请码
      operationId: createInviteCode
      consumes:
        - application/json
      parameters:
      responses:
        "200":
          description: 成功
        "403":
          description: 没有权限
  "/invitecode/{inviteCodeId}":
    delete:
      tags:
        - invitecode
      summary: 删除邀请码
      operationId: deleteInveiteCode
      consumes:
        - application/json
      parameters:
        - name: inviteCodeId
          description: 邀请码Id
          required: true
          type: string
          in: path
      responses:
        "200":
          description: 成功
        "403":
          description: 没有权限

  /search:
    get:
      tags:
        - search
      summary: 搜索
      operationId: search
      consumes:
        - application/json
      responses:
        "200":
          description: 成功
        "403":
          description: 没有权限

  /region:
    get:
      tags:
        - region
      summary: 获取区域数据
      operationId: getRegion
      consumes:
        - application/json
      responses:
        "200":
          description: 成功
        "403":
          description: 没有权限

  /logo:
    get:
      tags:
        - logo
      summary: 获取logo
      operationId: getLogo
      consumes:
        - application/json
      responses:
        "200":
          description: 成功
        "403":
          description: 没有权限
    put:
      tags:
        - logo
      summary: 修改logo
      operationId: updateLogo
      consumes:
        - application/json
      responses:
        "200":
          description: 成功
        "403":
          description: 没有权限

  /tags:
    get:
      tags:
        - tags
      summary: 获取tags
      operationId: getTags
      consumes:
        - application/json
      responses:
        "200":
          description: 成功
        "403":
          description: 没有权限

definitions:
  LoginForm:
    title: LoginForm
    type: object
    required:
      - email
      - password
    properties:
      email:
        description: 用户邮箱
        type: string
      password:
        description: 密码
        type: string
  LoginSuccess:
    title: LoginSuccess
    type: object
    required:
      - token
    properties:
      token:
        type: string
        description: "access token, 有效期7天"
  User:
    title: User
    type: object
    required:
      - email
    properties:
      email:
        type: string
        description: 用户邮箱
      nickname:
        type: string
        description: 昵称
      realname:
        type: string
        description: 真实姓名
      department:
        type: object
        description: 部门
        properties:
          _id:
            type: string
            description: 部门id
          name:
            type: string
            description: 部门名
      sex:
        type: string
        enum:
          - 男
          - 女
        description: 性别
      birthday:
        type: string
        format: date-time
        description: 生日
      bloodType:
        type: string
        description: 血型
      introduce:
        type: string
        description: 简介
      registerDate:
        type: string
        format: date-time
        description: 注册时间
      phone:
        type: string
        description: 电话号码
      qq:
        type: string
        description: QQ
      company:
        type: object
        description: 公司
        properties:
          _id:
            type: string
            description: 公司id
          name:
            type: string
            description: 公司名
          briefName:
            type: string
            description: 公司简称
      tids:
        type: array
        description: 小队id数组
        items:
          type: string
      lastCommentTime:
        type: string
        format: date-time
        description: 上次发表评论的时间
  UserRegisterForm:
    title: UserRegisterForm
    type: object
    required:
      - email
      - domain
      - nickname
      - password
      - realname
      - department
    properties:
      email:
        description: 用户邮箱（不含@及其后面部分）
        type: string
      domain:
        description: 邮箱域名
        type: string
      nickname:
        description: 昵称
        type: string
      password:
        description: 密码
        type: string
      realname:
        description: 真实姓名
        type: string
      department:
        description: 部门
        type: array
        items:
          description: 部门名
          type: string
      phone: 
        description: 手机号码
        type: string
  CompanyRegisterForm:
    title: CompanyRegisterForm
    type: object
    required:
      - name
      - province
      - city
      - district
      - address
      - contacts
      - tel
      - email
    properties:
      name:
        description: 公司名称，与营业执照注册名保持一致
        type: string
      province:
        description: 省份
        type: string
      city:
        description: 城市
        type: string
      district:
        description: 区
        type: string
      address:
        description: 详细地址
        type: string
      contacts:
        description: 联系人
        type: string
      areacode:
        type: string
        description: 区号
      tel:
        type: string
        description: 号码
      extension:
        type: string
        description: 分机
      email:
        description: 公司邮箱
        type: string
      phone:
        description: 联系人手机号码
        type: string
      inviteCode:
        description: 邀请码
        type: string
  Company:
    title: Company
    required:
      - _id
      - name
      - short_name
      - logo
    properties:
      _id:
        description: 公司id
        type: string
      username:
        description: 企业账号登录用的用户名
        type: string
      domains:
        description: 邮箱后缀
        type: array
        items:
          type: string
      name:
        description: 公司名称
        type: string
      shortName:
        description: 公司简称
        type: string
      logo:
        description: 公司logo url
        type: string
      province:
        description: 省份
        type: string
      city:
        description: 城市
        type: string
      district:
        description: 区
        type: string
      address:
        description: 详细地址
        type: string
      contacts:
        description: 联系人
        type: string
      email:
        description: 公司邮箱
        type: string
      memberNumber:
        description: 公司成员数量
        type: integer
        format: int64
      companyInviteCodes:
        description: 可供其它企业注册时使用的邀请码
        type: array
        items:
          type: string
      staffInviteCode:
        description: 给该企业员工使用的邀请码
        type: string
  Campaign:
    title: Campaign
    required:
      - cid
      - theme
      - location
      - start_time
      - end_time
      - campaign_mold
    properties:
      cid:
        type: array
        description: 活动所属公司的id
        items:
          type: string
      tid:
        type: array
        description: 活动所属小队的id
        items:
          type: string
      campaign_unit:
        type: array
        description: 活动的阵营
        items:
          $ref: CampaignUnit
      theme:
        type: string
        description: 活动主题
      location:
        $ref: Location
      start_time:
        description: 活动开始时间
        type: string
        format: date-time
      end_time:
        description: 活动结束时间
        type: string
        format: date-time
      deadline:
        description: 报名截止时间
        type: string
        format: date-time
      campaign_mold:
        description: 活动类型
        type: string
      content:
        description: 活动内容
        type: string
      member_min:
        description: 报名人数下限
        type: integer
      member_max:
        description: 报名人数上限
        type: integer
      tags:
        description: 标签
        type: array
        items:
          type: string
  Location:
    title: Location
    required:
      - name
    properties:
      name:
        type: string
        description: 地点名称
      coordinate:
        type: array
        description: 地点坐标
        items:
          type: number
          format: double
          minItems: 2
  CampaignUnit:
    title: CampaignUnit
    properties:
      company:
        $ref: CompanyBrief
      team:
        $ref: TeamBrief
      member:
        type: array
        description: 参加的成员
        items:
          $ref: Member
      member_quit:
        type: array
        description: 退出的成员
        items:
          $ref: Member
  CompanyBrief:
    title: CompanyBrief
    required:
      - _id
    properties:
      _id:
        type: string
        description: 公司id
      name:
        type: string
        description: 公司名称
      logo:
        type: string
        description: 公司头像
  TeamBrief:
    title: TeamBrief
    required:
      - _id
    properties:
      _id:
        type: string
        description: 小队id
      name:
        type: string
        description: 小队名称
      logo:
        type: string
        description: 小队头像
  Member:
    title: Member
    required:
      - _id
    properties:
      _id:
        type: string
        description: 用户id
      nickname:
        type: string
        description: 用户昵称
      photo:
        type: string
        description: 用户头像
  ErrorMsg:
    title: 错误信息
    type: object
    required:
      - msg
    properties:
      msg:
        description: 错误信息
        type: string
  AddCampaignSuccess:
    title: AddCampaignSuccess
    type: object
    required:
      - campaign_id
      - photo_album_id
    properties:
      campaign_id:
        type: string
        description: campaign id
      photo_album_id:
        type: string
        description: photo_album id
  TimelineRecord:
    title: TimelineRecord
    description: timeline record
    type: object
    required:
      - year
      - month
    properties:
      year:
        type: string
      month:
        type: array
        items:
          type: object
          properties:
            month:
              type: string

  TimelineData:
    title: TimelineData
    type: object
    description: "timeline data"
    properties:
      year:
        type: string
      month:
        type: string
      campaigns:
        type: array
        items:
          $ref: Campaign
