swagger: "2.0"
info:
  title: Donler API v2
  description: Donler API v2
  version: 2.0.0
host: localhost:3002
basePath: /v2_0
schemes:
  - http
produces:
  - application/json
  - text/plain
consumes:
  - application/json
paths:
  /users/login:
    post:
      tags:
        - users
      summary: 用户登录
      operationId: userLogin
      parameters:
        - name: body
          schema:
            $ref: LoginForm
          in: body
          required: true
          description: 登录邮箱和密码
      responses:
        default:
          description: error
          schema:
            $ref: Error
        200:
          description: 登录成功后返回的数据
          schema:
            $ref: LoginSuccess
  /users/concern/{userId}:
    get:
      tags:
        - users
      summary: 获取xx的关注列表
      parameters:
        - name: userId
          in: path
          required: true
          description: userId
          default: 53aa707a11fd597b3e1be260
      responses:
        default:
          description: error
          schema:
            $ref: Error
        200:
          description: 关注列表
          schema:
            type: array
            items:
              $ref: Concern
    post:
      tags:
        - users
      summary: 对xx增加关注
      parameters:
        - name: userId
          in: path
          required: true
          description: userId
          default: 53aa91a76b2836fd41ba422b
      responses:
        default:
          description: error
          schema:
            $ref: Error
        200:
          description: 增加关注成功
    delete:
      tags:
        - users
      summary: 将xx从自己的关注列表中删除
      parameters:
        - name: userId
          in: path
          required: true
          description: userId
          default: 53aa91a76b2836fd41ba422b
      responses:
        default:
          description: error
          schema:
            $ref: Error
        200:
          description: 删除关注成功
  /gifts/history/{userId}/{direction}:
    get:
      tags:
        - gifts
      summary: 获取当前用户收到/发出的礼物
      parameters:
        - name: userId
          description: 用户id
          required: true
          type: string
          in: path
          default: 53aa707a11fd597b3e1be260
        - name: direction
          description: 收到/发出
          required: true
          type: string
          in: path
          enum:
            - send
            - receive
          default: send
        - name: lastTime
          description: 上一条时间,若无则取最新
          required: false
          type: date-time
          in: query
        - name: limit
          description: 一次取几条
          required: false
          type: number
          in: query
      responses:
        200:
          description: 获取的礼物
          schema:
            type: array
            items:
              $ref: Gift
        default:
          description: error
          schema:
            $ref: Error
  /gifts:
    post:
      tags:
        - gifts
      summary: 送礼
      parameters:
        - name: body
          schema:
            $ref: PostGift
          in: body
          required: true
          description: 礼物所需body
      responses:
        200:
          description: 成功
          schema:
            $ref: GiftResponse
        default:
          description: error
          schema:
            $ref: Error
  /gifts/{giftId}:
    get:
      tags:
        - gifts
      summary: 获取某礼物详情
      parameters:
        - name: giftId
          description: 礼物id
          required: true
          type: string
          in: path
      responses:
        200:
          description: 成功
          schema:
            $ref: GiftResponse
        default:
          description: error
          schema:
            $ref: Error
  /gifts/remain/{content}:
    get:
      tags:
        - gifts
      summary: 获取礼物余量
      parameters:
        - name: content
          description: 哪类礼物
          required: true
          type: string
          in: path
          enum:
            - concern
            - heart
      responses:
        200:
          description: 成功
          schema:
            $ref: GiftRemain
        default:
          description: error
          schema:
            $ref: Error
  /interaction:
    post:
      tags:
        - interaction
      summary: 发互动
      operationId: postInteraction
      parameters:
        - name: body
          description: 互动信息
          required: true
          schema:
            $ref: InteractionForm
          in: body
      responses:
        200:
          description: 成功
          schema:
           $ref: Interaction
        default:
          description: error
          schema:
            $ref: Error
    get:
      tags:
        - interaction
      summary: 获取互动列表
      operationId: getQuestion
      parameters:
        - name: interactionType
          description: 互动类型
          required: true
          type: integer
          format: int32
          in: query
          enum:
            - 1
            - 2
            - 3
            - 4
        - name: createTime
          description: 创建时间，分页用
          required: false
          type: number
          format: float
          in: query
        - name: limit
          description: 每页数目，默认10
          required: false
          type: integer
          format: int32
          in: query
      responses:
        "200":
          description: 成功
          schema:
            type: array
            items:
              $ref: Interaction
        default:
          description: error
          schema:
            $ref: Error
  "/interaction/template":
    post:
      tags:
        - interaction
      summary: 发互动模板
      operationId: postTemplate
      parameters:
        - name: body
          description: 模板信息
          required: true
          schema:
            $ref: InteractionTemplate
          in: body
      responses:
        200:
          description: 成功
          schema:
           $ref: InteractionTemplate
        default:
          description: error
          schema:
            $ref: Error
    get:
      tags:
        - interaction
      summary: 获取模板列表
      operationId: getInteractionTemplate
      parameters:
        - name: templateType
          description: 模板类型
          required: true
          type: integer
          format: int32
          in: query
          enum:
            - 1
            - 2
            - 3
        - name: limt
          description: 每页数目，默认10
          required: false
          type: integer
          format: int32
          in: query
        - name: createTime
          description: 创建时间，分页用
          required: false
          type: number
          format: float
          in: query
      responses:
        200:
          description: 成功
          schema:
            type: array
            items:
              $ref: InteractionTemplate
        default:
          description: error
          schema:
            $ref: Error
  "/interaction/template/{templateType}/{templateId}":
    get:
      tags:
        - interaction
      summary: 获取模板详情
      operationId: getActivityTemplate
      parameters:
        - name: templateType
          description: 模板类型
          required: true
          type: integer
          format: int32
          in: path
          enum:
            - 1
            - 2
            - 3
        - name: templateId
          description: 模板Id
          required: true
          type: string
          in: path
      responses:
        200:
          description: 成功
          schema:
           $ref: InteractionTemplate
        default:
          description: error
          schema:
            $ref: Error
  "/interaction/{interactionType}/{interactionId}":
    get:
      tags:
        - interaction
      summary: 获取互动详情
      operationId: getInteractionDetail
      parameters:
        - name: interactionType
          description: 互动类型
          required: true
          type: string
          in: path
          enum:
            - 1
            - 2
            - 3
        - name: interactionId
          description: 互动id
          required: true
          type: string
          in: path
      responses:
        "200":
          description: 成功
          schema:
            type: array
            items:
              $ref: Interaction
        default:
          description: error
          schema:
            $ref: Error
  "/interaction/activity/{interactionId}/users/{userId}":
    post:
      tags:
        - interaction
      summary: 参加活动
      operationId: poll
      parameters:
        - name: interactionId
          description: 互动id
          required: true
          type: string
          in: path
        - name: userId
          description: 用户id
          required: true
          type: string
          in: path
      responses:
        200:
          description: 成功
          schema:
           $ref: Interaction
        default:
          description: error
          schema:
            $ref: Error
    delete:
      tags:
        - interaction
      summary: 退出活动
      operationId: poll
      parameters:
        - name: interactionId
          description: 互动id
          required: true
          type: string
          in: path
        - name: userId
          description: 用户id
          required: true
          type: string
          in: path
      responses:
        200:
          description: 成功
          schema:
           $ref: Interaction
        default:
          description: error
          schema:
            $ref: Error
  "/interaction/poll/{interactionId}/users/{userId}":
    post:
      tags:
        - interaction
      summary: 进行投票
      operationId: poll
      parameters:
        - name: interactionId
          description: 投票id
          required: true
          type: string
          in: path
        - name: userId
          description: 用户id
          required: true
          type: string
          in: path
        - name: body
          description: 投票信息
          required: true
          schema:
            $ref: DoPollForm
          in: body
      responses:
        200:
          description: 成功
          schema:
           $ref: Interaction
        default:
          description: error
          schema:
            $ref: Error
  "/interaction/question/{interactionId}/approve":
    post:
      tags:
        - interaction
      summary: 赞同回答
      operationId: approveAnswer
      parameters:
        - name: interactionId
          description: 求助id
          required: true
          type: string
          in: path
        - name: body
          in: body
          description: 点赞的信息
          required: true
          schema:
            $ref: AdoptQuestionForm
      responses:
        200:
          description: 成功
          schema:
           $ref: InteractionComment
        default:
          description: error
          schema:
            $ref: Error
    delete:
      tags:
        - interaction
      summary: 取消赞同
      operationId: cancelApproveAnswer
      parameters:
        - name: interactionId
          description: 求助id
          required: true
          type: string
          in: path
        - name: body
          in: body
          description: 点赞的信息
          required: true
          schema:
            $ref: approveAnswerForm
      responses:
        200:
          description: 成功
          schema:
           $ref: InteractionComment
        default:
          description: error
          schema:
            $ref: Error
  "/interaction/question/{interactionId}/adopt":
    put:
      tags:
        - interaction
      summary: 采纳答案
      operationId: adoptAnswer
      parameters:
        - name: interactionId
          description: 求助id
          required: true
          type: string
          in: path
        - name: body
          in: body
          description: 求助的采纳信息
          required: true
          schema:
            $ref: AdoptQuestionForm
      responses:
        200:
          description: 成功
          schema:
           $ref: Interaction
        default:
          description: error
          schema:
            $ref: Error
  "/interaction/{interactionType}/{interactionId}/comment":
    post:
      tags:
        - interaction
      summary: 评论
      operationId: poll
      parameters:
        - name: interactionType
          description: 互动类型
          required: true
          type: integer
          format: int32
          in: path
          enum:
            - 1
            - 2
            - 3
        - name: interactionId
          description: 互动id
          required: true
          type: string
          in: path
        - name: body
          description: 互动的评论信息
          required: true
          schema:
            $ref: InteractionCommentForm
          in: body
      responses:
        200:
          description: 成功
          schema:
           $ref: InteractionComment
        default:
          description: error
          schema:
            $ref: Error
    get:
      tags:


        - interaction
      summary: 获取互动评论列表
      operationId: getInteractionComment
      parameters:
        - name: interactionType
          description: 互动类型
          required: true
          type: integer
          format: int32
          in: path
          enum:
            - 1
            - 2
            - 3
        - name: interactionId
          description: 求助id
          required: true
          type: string
          in: path
        - name: commentId
          description: "评论Id,存在则为获取评论的评论列表，否则为互动的评论列表"
          required: false
          type: string
          in: query
      responses:
        "200":
          description: 成功
          schema:
            type: array
            items:
              $ref: InteractionComment
        default:
          description: error
          schema:
            $ref: Error
    delete:
      tags:
        - interaction
      summary: 删除评论
      operationId: poll
      parameters:
        - name: interactionType
          description: 互动类型
          required: true
          type: integer
          format: int32
          in: path
          enum:
            - 1
            - 2
            - 3
        - name: interactionId
          description: 求助id
          required: true
          type: string
          in: path
        - name: body
          description: 评论Id
          required: true
          in: body
          schema:
            $ref: AdoptQuestionForm
      responses:
        200:
          description: 成功
          schema:
           $ref: InteractionComment
        default:
          description: error
          schema:
            $ref: Error
  "/groups":
    post:
      tags:
        - group
      summary: 发新群组
      operationId: postNewGroup
      consumes:
        - multipart/form-data
      description: 此功能测试移动到upload_test
      parameters:
      responses:
        200:
          description: 成功
        default:
          description: error
          schema:
            $ref: Error
  "/groups/{groupId}":
    put:
      tags:
        - group
      summary: 编辑群组
      operationId: editGroup
      consumes:
        - multipart/form-data
      description: 此功能测试移动到upload_test
      parameters:
      responses:
        200:
          description: 成功
        default:
          description: error
          schema:
            $ref: Error
    get:
      tags:
        - group
      summary: 获取群组信息
      operationId: getGroupInfo
      parameters:
        - name: groupId
          description: 群组id
          required: true
          type: string
          in: path
        - name: allInfo
          description: 是否所有信息
          required: false
          type: boolean
          in: query
      responses:
        200:
          description: 成功
        default:
          description: error
          schema:
            $ref: Error
    delete:
      tags:
        - group
      summary: 删除群组
      operationId: deleteGroup
      parameters:
        - name: groupId
          description: 群组id
          required: true
          type: string
          in: path
      responses:
        200:
          description: 成功
        default:
          description: error
          schema:
            $ref: Error
  "/groups/{groupId}/invitation/{userId}":
    put:
      tags:
        - group
      summary: app内群组邀请
      operationId: inviteMemberToGroup
      parameters:
        - name: groupId
          description: 群组id
          required: true
          type: string
          in: path
        - name: userId
          description: 受邀人id
          required: true
          type: string
          in: path
      responses:
        200:
          description: 成功
        default:
          description: error
          schema:
            $ref: Error
  "/groups/{groupId}/invitation":
    get:
      tags:
        - group
      summary: app外群组邀请(获取邀请链接)
      operationId: getInviteCodeForGroup
      parameters:
        - name: groupId
          description: 群组id
          required: true
          type: string
          in: path
      responses:
        200:
          description: 成功
        default:
          description: error
          schema:
            $ref: Error
    put:
      tags:
        - group
      summary: 处理群组邀请
      operationId: handleInvitationFromGroup
      consumes:
        - application/x-www-form-urlencoded
      parameters:
        - name: groupId
          description: 群组id
          required: true
          type: string
          in: path
        - name: accept
          description: 是否接受邀请
          required: true
          type: boolean
          in: query
      responses:
        200:
          description: 成功
        default:
          description: error
          schema:
            $ref: Error
  "/groups/{groupId}/user":
    put:
      tags:
        - group
      summary: 加入群组
      operationId: joinGroup
      parameters:
        - name: groupId
          description: 群组id
          required: true
          type: string
          in: path
      responses:
        200:
          description: 成功
        default:
          description: error
          schema:
            $ref: Error
    delete:
      tags:
        - group
      summary: 退出群组
      operationId: quitGroup
      parameters:
        - name: groupId
          description: 群组id
          required: true
          type: string
          in: path
      responses:
        200:
          description: 成功
        default:
          description: error
          schema:
            $ref: Error
  "/groups/{groupId}/user/{userId}":
    put:
      tags:
        - group
      summary: 指定新群主
      operationId: reassignLeaderForGroup
      parameters:
        - name: groupId
          description: 群组id
          required: true
          type: string
          in: path
        - name: userId
          description: 用户id
          required: true
          type: string
          in: path
      responses:
        200:
          description: 成功
        default:
          description: error
          schema:
            $ref: Error
    delete:
      tags:
        - group
      summary: 移除群组
      operationId: removeMemberFromGroup
      parameters:
        - name: groupId
          description: 群组id
          required: true
          type: string
          in: path
        - name: userId
          description: 用户id
          required: true
          type: string
          in: path
      responses:
        200:
          description: 成功
        default:
          description: error
          schema:
            $ref: Error
  "/groups/search":
    get:
      tags:
        - group
      summary: 搜索群组
      operationId: searchGroup
      consumes:
        - application/x-www-form-urlencoded
      parameters:
        - name: regex
          description: 搜索关键字
          required: true
          type: string
          in: query
      responses:
        200:
          description: 成功
        default:
          description: error
          schema:
            $ref: Error
  "/groups/list/user":
    get:
      tags:
        - group
      summary: 获取个人群组列表
      operationId: getGroupListOfUser
      responses:
        200:
          description: 成功
        default:
          description: error
          schema:
            $ref: Error
  "/groups/list/company":
    get:
      tags:
        - group
      summary: 获取公司群组列表
      operationId: getGroupListOfCompany
      responses:
        200:
          description: 成功
        default:
          description: error
          schema:
            $ref: Error
  "/groups/{groupId}/applicant/{userId}":
    put:
      tags:
        - group
      summary: 处理用户申请
      operationId: handleApplication
      consumes:
        - application/x-www-form-urlencoded
      parameters:
        - name: groupId
          description: 群组id
          required: true
          type: string
          in: path
        - name: userId
          description: 用户id
          required: true
          type: string
          in: path
        - name: accept
          description: 群主是否同意
          required: true
          type: boolean
          in: query
      responses:
        200:
          description: 成功
        default:
          description: error
          schema:
            $ref: Error
  /notifications/{noticeType}:
    get:
      tags:
        - notifications
      summary: 获取获取自己的通知列表
      parameters:
        - name: noticeType
          description: 通知类型
          required: true
          type: string
          in: path
          enum:
            - interaction
            - notice
      responses:
        200:
          description: 成功
          schema:
            type: array
            items:
              $ref: Notification
  "/favoriteRank":
    get:
      tags:
        - favoriteRank
      summary: 获取公司内、公司外排行榜 
      operationId: getFavoriteRank
      parameters:
        - name: cid
          description: 公司id
          required: true
          type: string
          in: query
        - name: type
          description: 榜单类型
          required: true
          type: integer
          in: query
        - name: limit
          description: 每页数目，默认10
          required: false
          type: integer
          in: query
        - name: score
          description: 每页的最低分
          required: false
          type: integer
          in: query
        - name: id
          description: 每页的最后一名的id
          required: false
          type: string
          in: query
      responses:
        200:
          description: 成功
        default:
          description: error
          schema:
            $ref: Error
  "/circle/contents":
    post:
      tags:
        - circles
      summary: 创建新同事圈内容
      operationId: createCircleContent
      consumes:
        - multipart/form-data
      description: 此功能测试移动到upload_test
      parameters:
      responses:
        default:
          description: error
          schema:
            $ref: Error
        "200":
          description: 成功
  "/circle/company":
    get:
      tags:
        - circles
      summary: 获取公司同事圈内容
      operationId: getCompanyCircle
      parameters:
        - name: latestContentDate
          description: 最新一个消息发布时间
          required: false
          type: string
          format: date-time
          in: query
        - name: lastContentDate
          description: 最后一个消息发布时间
          required: false
          type: string
          format: date-time
          in: query
        - name: limit
          description: 数量限制
          required: false
          type: number
          in: query
      responses:
        default:
          description: error
          schema:
            $ref: Error
        "200":
          description: 成功
          schema:
            type: array
            items:
              $ref: ResCircle
  "/circle/user/{userId}":
    get:
      tags:
        - circles
      summary: 获取个人同事圈内容
      operationId: getCampaignCircle
      parameters:
        - name: userId
          description: 用户id
          required: true
          type: string
          in: path
        - name: latestContentDate
          description: 最新一个消息发布时间
          required: false
          type: string
          format: date-time
          in: query
        - name: lastContentDate
          description: 最后一个消息发布时间
          required: false
          type: string
          format: date-time
          in: query
        - name: limit
          description: 数量限制
          required: false
          type: number
          in: query
      responses:
        default:
          description: error
          schema:
            $ref: Error
        "200":
          description: 成功
          schema:
            type: array
            items:
              $ref: ResCircle
  "/circle/contents/{contentId}":
    get:
      tags:
        - circles
      summary: 获取同事圈内容详情
      operationId: getCircleContent
      parameters:
        - name: contentId
          description: 消息id
          required: true
          type: string
          in: path
      responses:
        default:
          description: error
          schema:
            $ref: Error
        "200":
          description: 成功
          schema:
            $ref: ResCircle
    delete:
      tags:
        - circles
      summary: 删除已发同事圈
      operationId: deleteCircleContent
      parameters:
        - name: contentId
          description: 消息id
          required: true
          type: string
          in: path
      responses:
        default:
          description: error
          schema:
            $ref: Error
        "200":
          description: 成功
  "/circle/contents/{contentId}/comments":
    post:
      tags:
        - circles
      summary: 发表同事圈评论或赞
      operationId: createCircleComment
      parameters:
        - name: contentId
          description: 消息id
          required: true
          type: string
          in: path
        - name: body
          schema:
            $ref: CommentForm
          in: body
          required: true
          description: 评论
      responses:
        default:
          description: error
          schema:
            $ref: Error
        "200":
          description: 成功
  "/circle/comments/{commentId}":
    delete:
      tags:
        - circles
      summary: 删除同事圈评论或取消赞
      operationId: deleteCircleComment
      parameters:
        - name: contentId
          description: 消息id
          required: false
          type: string
          in: path
        - name: commentId
          description: 评论id
          required: true
          type: string
          in: path
      responses:
        default:
          description: error
          schema:
            $ref: Error
        "200":
          description: 成功
  "/circle/reminds":
    get:
      tags:
        - circles
      summary: 获取是否有新评论、新朋友圈内容、消息(包括最新消息人的头像)
      operationId: getReminds
      parameters:
        - name: lastReadTime
          description: 上次查询朋友圈的时间
          required: true
          type: string
          format: date-time
          in: query
        - name: lastCommentDate
          description: 上次查询朋友评论的时间
          required: true
          type: string
          format: date-time
          in: query
      responses:
        default:
          description: error
          schema:
            $ref: Error
        "200":
          description: 成功
          schema:
            $ref: NewReminds
  "/circle/reminds/comments":
    get:
      tags:
        - circles
      summary: 获取同事圈提醒
      operationId: getCircleComments
      consumes:
        - application/json
      parameters:
        # - name: latestContentDate
        #   description: 最新消息的发布时间
        #   required: false
        #   type: string
        #   format: date-time
        #   in: query
        - name: lastCommentDate
          description: 上一次查询评论的时间
          required: false
          type: string
          format: date-time
          in: query
      responses:
        default:
          description: error
          schema:
            $ref: Error
        "200":
          description: 成功
          schema:
            type: array
            items:
              $ref: CircleCommentRespond
definitions:
  Error:
    title: Error
    description: Error
    type: object
    properties:
      msg:
        type: string
  pushInfo:
    title: pushInfo
    type: object
    properties:
      ios_token:
        description: ios的设备token
        type: string
      user_id:
        description: 百度云的userID
        type: string
      channel_id:
        description: 百度云的channelID
        type: string
  LoginForm:
    title: LoginForm
    type: object
    required:
      - email
      - password
      - pushInfo
    properties:
      email:
        description: 用户邮箱
        type: string
      password:
        description: 密码
        type: string
      pushInfo:
        description: "push信息，ios包含ios_token,android包含user_id,channel_id"
        $ref: pushInfo
  Concern:
    title: Concern
    type: object
    required:
      - user
      - createTime
    properties:
      user:
        description: 用户id 
        type: string
      createTime:
        description: 关注时间
        type: string
        format: date-time
  GiftResponse:
    title: PostGiftResponse
    type: object
    properties:
      gift:
        type: object
        $ref: Gift
  LoginSuccess:
    title: LoginSuccess
    type: object
    required:
      - token
    properties:
      token:
        type: string
        description: "access token, 有效期7天"
      id:
        type: string
        description: 用户id
      cid:
        type: string
        description: cid
      role:
        type: string
        description: 角色
        enum:
          - LEADER
          - MEMBER
      guide_step:
        type: integer
        format: int32
        description: 是否已经看过引导
  PostGift:
    title: PostGift
    type: object
    required:
     - receiverId
     - gift
     - addition
     - reply_gift
    properties:
      receiverId:
        description: 收礼物人ID
        type: string
        default: 53aa7a0c6b2836fd41ba41d7
      giftIndex:
        description: 礼物的编号
        type: number
        default: 1
      addition:
        description: 附言
        type: string
      replyGift:
        description: 回复某礼物的Id
        type: string
  Gift:
    title: Gift
    type: object
    required:
      - _id
      - sender
      - receiver
      - receiverGender
      - giftIndex
      - createTime
      - addition
      - received
      - cid
    properties:
      _id:
        description: giftid
        type: string
      sender:
        description: 发送者id
        type: string
      receiver:
        description: 接收者id
        type: string
      receiverGender:
        description: 接收者性别
        type: number
        enum:
          - 1
          - 2
      giftIndex:
        description: 送的礼物，以数字代表 1鲜花 2咖啡 3拥抱 4爱心 5蛋糕
        type: number
      createTime:
        description: 送礼时间
        type: string
        format: date-time
      addition:
        description: 附言
        type: string
      received:
        description: 是否接收
        type: boolean
      cid:
        description: 所属公司
        type: string
      replyGift:
        description: 回复哪个礼物
        type: string
  Location:
    title: Location
    required:
      - name
    properties:
      name:
        type: string
        description: 地点名称
      coordinate:
        type: array
        description: 地点坐标
        items:
          type: number
          format: double
  GiftRemain:
    title: GiftRemain
    type: object
    properties:
      heart:
        description: 爱心数量
        type: object
        $ref: Remain
      flower:
        description: 鲜花
        type: object
        $ref: Remain
      coffee:
        description: 咖啡
        type: object
        $ref: Remain
      hug:
        description: 拥抱
        type: object
        $ref: Remain
  Remain:
    title: Remain
    type: object
    properties:
      remainGift: 
        description: 数量
        type: number
      remainTime:
        description: 剩余恢复时间
        type: date-time
  ActivityForm:
    title: ActivityForm
    type: object
    properties:
      startTime:
        description: 开始时间
        type: string
        format: date-time
      deadline:
        description: 截止时间
        type: string
        format: date-time
      activityMold:
        description: 活动类型
        type: string
      location:
        $ref: Location
  PollForm:
    title: PollForm
    type: object
    properties:
      option:
        description: 选项
        type: array
        items:
          type: string

  QuestionForm:
    title: QuestionForm
    type: object
    properties:
      select:
        type: string
  InteractionForm:
    title: InteractionForm
    type: object
    required:
      - type
      - target
      - targetType
    properties:
      type:
        description: "互动类型 1:'活动',2:'投票',3:'求助'"
        type: integer
        format: int32
        default: 1
        enum:
          - 1
          - 2
          - 3
      target:
        description: 目标id
        type: string
        default: 53aa6fc011fd597b3e1be250
      targetType:
        description: "目标类型 1:'个人',2:'群',3:'公司'"
        type: integer
        format: int32
        default: 3
        enum:
          - 1
          - 2
          - 3
      templateId:
        description: 模板Id
        type: string
      theme:
        description: 主题
        type: string
      content:
        description: 内容
        type: string
      endTime:
        description: 结束时间
        type: string
        format: date-time
      startTime:
        description: 开始时间
        type: string
        format: date-time
      deadline:
        description: 截止时间
        type: string
        format: date-time
      activityMold:
        description: 活动类型
        type: string
      location:
        $ref: Location
      memberMax:
        description: 最大人数
        type: integer
        format: int32
      memberMin:
        description: 最小人数
        type: integer
        format: int32
      option:
        description: 选项
        type: array
        items:
          type: string
      tags:
        description: 标签
        type: array
        items:
          type: string
  Interaction:
    title: Interaction
    type: object
    properties:
      target:
        description: 目标id
        type: string
      targetType:
        description: 目标类型
        type: integer
        format: int32
      theme:
        description: 主题
        type: string
      content:
        description: 内容
        type: string
      endTime:
        description: 结束时间
        type: string
        format: date-time
      activity:
        $ref: ActivityForm
      poll:
        $ref: PollForm
      question:
        $ref: QuestionForm
  DoPollForm:
    title: doPollForm
    type: object
    properties:
      index:
        description: index
        type: integer
        format: int32
  InteractionCommentForm:
    title: answerForm
    type: object
    required:
      - type
    properties:
      content:
        description: content
        type: string
      commentId:
        description: 评论的Id
        type: string
  InteractionComment:
    title: InteractionComment
    type: object
    properties:
      content:
        description: content
        type: string
      interactionId:
        description: questionId
        type: string
      commentId:
        description: 评论一个评论时该评论的id
        type: string
      postCid:
        description: 评论人的公司id
        type: string
      postId:
        description: 评论人的id
        type: string
      createTime:
        description: 创建时间
        type: string
        format: date-time
      status:
        description: 状态1:正常，2:删除，3:内容删除
        type: integer
        format: int32
        enum:
          - 1
          - 2
          - 3
  AdoptQuestionForm:
    title: AdoptQuestionForm
    type: object
    properties:
      commentId:
        description: 要采纳的评论Id
        type: string
  approveAnswerForm:
    title: approveAnswerForm
    type: object
    properties:
      commentId:
        description: 评论Id
        type: string
      approveId:
        description: 赞的Id
        type: string
  InteractionTemplate:
    title: ActivityTemplate
    type: object
    required:
      - theme
      - content
      - endTime
    properties:
      templateType:
        description: 模板类型
        type: integer
        format: int32
        enum:
          - 1
          - 2
          - 3
        default: 1
      theme:
        description: 主题
        type: string
      content:
        description: 内容
        type: string
      endTime:
        description: 结束时间
        type: string
        format: date-time
      startTime:
        description: 开始时间
        type: string
        format: date-time
      deadline:
        description: 截止时间
        type: string
        format: date-time
      activityMold:
        description: 活动类型
        type: string
      loaction:
        $ref: Location
      memberMax:
        description: 最大人数
        type: integer
        format: int32
      memberMin:
        description: 最小人数
        type: integer
        format: int32
      option:
        description: 选项
        type: array
        items:
          type: string
      tags:
        description: 标签
        type: array
        items:
          type: string
  CommentForm:
    title: CommentForm
    type: object
    required:
      - kind
      - isOnlyToContent
    properties:
      kind:
        description: 类型，评论或赞
        type: string
      content:
        description: 评论内容
        type: string
      isOnlyToContent:
        description: 回复对象
        type: boolean
      targetUserId:
        description: 评论用户的id
        type: string
  ResCircle:
    title: ResCircle
    required:
      - content
      - comments
    properties:
      content:
        type: CircleContent
        description: 消息相关信息
      comments:
        type: array
        description: 消息相关评论数组
        items:
          type: CircleComment
  CircleContent:
    title: Content
    required:
      - _id
      - cid
      - postUserId
      - postDate
      - status
    properties:
      _id:
        type: string
        description: 消息id
      cid:
        type: string
        description: 公司id
      content:
        type: string
        description: 消息内容
      photos:
        type: array
        description: 消息图片
        items:
          $ref: ContentPhoto
      postUserId:
        type: string
        description: 消息发布者id
      postDate:
        type: string
        description: 消息时间
        format: date-time
      status:
        type: string
        description: 消息状态
      commentUsers:
        type: array
        description: 参与过评论的用户id数组
        items:
          type: string
  CircleComment:
    title: CircleComment
    required:
      - _id
      - kind
      - isOnlyToContent
      - targetContentId
      - targetUserId
      - postUserCid
      - postUserId
      - postDate
      - status
    properties:
      _id:
        type: string
        description: 评论id
      kind:
        type: string
        description: 类型
      content:
        type: string
        description: 评论内容
      isOnlyToContent:
        type: boolean
        description: 回复对象
      targetContentId:
        type: string
        description: 评论目标消息的id
      targetUserId:
        type: string
        description: 评论目标用户的id
      postUserCid:
        type: string
        description: 发评论或赞的用户的公司id
      postUserId:
        type: string
        description: 发评论或赞的用户的id
      postDate:
        type: string
        description: 发评论时间
        format: date-time
      status:
        type: string
        description: 消息状态
  NewReminds:
    title: NewReminds
    properties:
      newChat:
        type: boolean
      newDiscover:
        type: boolean
      newCircleContent:
        type: object
        $ref: NewCircleContent
      newCircleComment:
        type: number
  NewCircleContent:
    title: NewCircleContent
    properties:
      postUserId:
        type: object
        $ref: Member
  CircleCommentRespond:
    title: CircleCommentRespond
    required:
      - _id
      - kind
      - content
      - targetContent
      - targetUserId
      - poster
      - postDate
    properties:
      _id:
        type: string
      kind:
        type: string
        enum:
          - comment
          - appreciate
      content:
        type: string
      targetContent:
        $ref: TargetContent
      targetUserId:
        type: string
      poster:
        $ref: Member
      postDate:
        type: string
        formData: date-time
  TargetContent:
    title: TargetContent
    properties:
      _id:
        type: string
      content:
        type: string
      photos:
        type: array
        items:
          type: string
  Notification:
    title: Notification
    required:
      - _id
      - noticeType
      - content
      - createTime
    properties:
      _id:
        type: string
      noticeType:
        type: number
        description: "通知类型 1: 互动 2: 通知(礼物、入群、系统)"
      interactionType:
        type: number
        description: "互动(包括评论)才有的属性 1: 活动 2: 投票 3: 求助"
      interaction:
        type: string
        description: Interaction的id
      gift:
        type: string
        description: 礼物id
      team:
        type: string
        description: 小队id
      action:
        type: number
        description: 互动的动作
      content:
        type: string
        description: 提醒中要显示的内容(活动、投票、求助的主题名, 若是评论则为他评论的内容，若是群则为群名)
      reply:
        type: string
        description: 若是自己的评论有回复了则有此属性(action为4、5),此为新回复的id
      replyTo:
        type: string
        description: 若是赞，保存被赞的评论id(action为5)
      relativeCount:
        type: number
        description: 相关人数,可能很多人回答、参加 (action为1、5、8)
      giftDirection:
        type: number
        description: "礼物才有的属性 1: 送出 2: 拆开"
      sender:
        type: string
        description: "发消息者 最新的那个人 若无则为系统"
      receiver:
        type: string
        description: "接收者 若是系统则没有"
      createTime:
        type: string
        format: date-time
        description: 通知时间