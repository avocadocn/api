{
  "apiVersion": "1.0.0",
  "swaggerVersion": "2.0",
  "basePath": "http://localhost:3002",
  "resourcePath": "/campaigns",
  "produces": ["application/json", "text/plain"],
  "apis": [
    {
      "path": "/campaigns",
      "operations": [
        {
          "method": "POST",
          "summary": "发起活动",
          "notes": "",
          "type": "void",
          "nickname": "addCampaign",
          "consumes": ["application/json"],
          "parameters": [
            {
              "name": "body",
              "description": "Campaign object that needs to be added to the store",
              "required": true,
              "type": "Campaign",
              "paramType": "body",
              "allowMultiple": false
            }
          ],
          "responseMessages": [
            {
              "code": 405,
              "message": "Invalid input"
            }
          ]
        },
        {
          "method": "GET",
          "summary": "获取活动列表",
          "notes": "",
          "type": "void",
          "nickname": "getCampaign",
          "consumes": ["application/json"],
          "parameters": [
            {
              "name": "hostType",
              "description": "Campaign object that needs to be added to the store",
              "required": true,
              "type": "string",
              "paramType": "path",
              "allowMultiple": false,
              "enum": [
                "user",
                "team",
                "company"
              ]
            },
            {
              "name": "hostId",
              "description": "Campaign object that needs to be added to the store",
              "required": true,
              "type": "string",
              "paramType": "path",
              "allowMultiple": false
            }
          ],
          "responseMessages": [
            {
              "code": 405,
              "message": "Invalid input"
            }
          ]
        }
      ]
    },
    {
      "path": "/campaigns/{campaignId}",
      "operations": [
        {
          "method": "GET",
          "summary": "获取单个活动",
          "notes": "",
          "type": "void",
          "nickname": "getCampaignById",
          "consumes": ["application/json"],
          "parameters": [
            {
              "name": "campaignId",
              "description": "活动 Id",
              "required": true,
              "type": "string",
              "paramType": "path",
              "allowMultiple": false
            }
          ],
          "responseMessages": [
            {
              "code": 405,
              "message": "Invalid input"
            }
          ]
        },
        {
          "method": "PATCH",
          "summary": "修改活动",
          "notes": "",
          "type": "void",
          "nickname": "updateCampaign",
          "consumes": ["application/json"],
          "parameters": [
            {
              "name": "campaignId",
              "description": "活动 Id",
              "required": true,
              "type": "string",
              "paramType": "path",
              "allowMultiple": false
            },
            {
              "name": "body",
              "description": "Campaign object that needs to be added to the store",
              "required": true,
              "type": "Campaign",
              "paramType": "body",
              "allowMultiple": false
            }
          ],
          "responseMessages": [
            {
              "code": 405,
              "message": "Invalid input"
            }
          ]
        },
        {
          "method": "DELETE",
          "summary": "关闭活动",
          "notes": "",
          "type": "void",
          "nickname": "closeCampaign",
          "consumes": ["application/json"],
          "parameters": [
            {
              "name": "campaignId",
              "description": "活动 Id",
              "required": true,
              "type": "string",
              "paramType": "path",
              "allowMultiple": false
            }
          ],
          "responseMessages": [
            {
              "code": 405,
              "message": "Invalid input"
            }
          ]
        }
      ]
    },
    {
      "path": "/campaigns/{campaignId}/users/{userId}",
      "operations": [
        {
          "method": "PUT",
          "summary": "参加活动",
          "notes": "",
          "type": "void",
          "nickname": "joinCampaign",
          "consumes": ["application/json"],
          "parameters": [
            {
              "name": "campaignId",
              "description": "活动 Id",
              "required": true,
              "type": "string",
              "paramType": "path",
              "allowMultiple": false
            },
            {
              "name": "userId",
              "description": "用户 Id",
              "required": true,
              "type": "string",
              "paramType": "path",
              "allowMultiple": false
            }
          ],
          "responseMessages": [
            {
              "code": 405,
              "message": "Invalid input"
            }
          ]
        },
        {
          "method": "DELETE",
          "summary": "退出活动",
          "notes": "",
          "type": "void",
          "nickname": "quitCampaign",
          "consumes": ["application/json"],
          "parameters": [
            {
              "name": "campaignId",
              "description": "活动 Id",
              "required": true,
              "type": "string",
              "paramType": "path",
              "allowMultiple": false
            },
            {
              "name": "userId",
              "description": "用户 Id",
              "required": true,
              "type": "string",
              "paramType": "path",
              "allowMultiple": false
            }
          ],
          "responseMessages": [
            {
              "code": 405,
              "message": "Invalid input"
            }
          ]
        }
      ]
    }
  ],
  "models": {
    "Campaign": {
      "id": "Campaign",
      "required": ["cid","theme","location","start_time","end_time","campaign_mold"],
      "properties": {
        "cid":{
          "type": "array",
          "description": "活动所属公司的id",
          "items":{
            "type":"string"
          }
        },
        "tid":{
          "type": "array",
          "description": "活动所属小队的id",
          "items":{
            "type":"string"
          }
        },
        "campaign_unit":{
          "type": "array",
          "description": "活动的阵营",
          "items":{
            "$ref": "CampaignUnit"
          }
        },
        "theme": {
          "type": "string",
          "description": "活动主题"
        },
        "location": {
          "$ref": "Location"
        },
        "start_time": {
          "description": "活动开始时间",
          "type": "Date"
        },
        "end_time": {
          "description": "活动结束时间",
          "type": "Date"
        },
        "deadline": {
          "description": "报名截止时间",
          "type": "Date"
        },
        "campaign_mold": {
          "description": "活动类型",
          "type": "string"
        },
        "content": {
          "description": "活动内容",
          "type": "string"
        },
        "member_min": {
          "description": "报名人数下限",
          "type": "integer"
        },
        "member_max": {
          "description": "报名人数上限",
          "type": "integer"
        },
        "tags": {
          "description": "标签",
          "type": "array",
          "items":{
            "type": "string"
          }
        }
      }
    },
    "Location":{
      "id": "Location",
      "required": ["name"],
      "properties": {
        "name": {
          "type": "string",
          "description": "地点名称"
        },
        "coordinate": {
          "type": "array",
          "description": "地点坐标",
          "items": {
            "type": "integer",
            "format": "int64"
          }
        }
      }
    },
    "CampaignUnit":{
      "id": "CampaignUnit",
      "properties": {
        "company": {
          "$ref":"Company"
        },
        "team":{
          "$ref":"Team"
        },
        "member": {
          "type": "array",
          "description": "参加的成员",
          "items": {
            "$ref": "Member"
          }
        },
        "member_quit": {
          "type": "array",
          "description": "退出的成员",
          "items": {
            "$ref": "Member"
          }
        }
      }
    },
    "Company":{
      "id": "Company",
      "required": ["_id"],
      "properties": {
        "_id": {
          "type": "string",
          "description": "公司id"
        },
        "name": {
          "type": "string",
          "description": "公司名称"
        },
        "logo": {
          "type": "string",
          "description": "公司头像"
        }
      }
    },
    "Team":{
      "id": "Team",
      "required": ["_id"],
      "properties": {
        "_id": {
          "type": "string",
          "description": "小队id"
        },
        "name": {
          "type": "string",
          "description": "小队名称"
        },
        "logo": {
          "type": "string",
          "description": "小队头像"
        }
      }
    },
    "Member":{
      "id": "Member",
      "required": ["_id"],
      "properties": {
        "_id": {
          "type": "string",
          "description": "用户id"
        },
        "nickname": {
          "type": "string",
          "description": "用户昵称"
        },
        "photo": {
          "type": "string",
          "description": "用户头像"
        }
      }
    }
  }
}