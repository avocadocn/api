{
  "swagger": "2.0",
  "info": {
    "title": "Donler API v1",
    "description": "Donler API v1",
    "version": "1.0.0"
  },
  "host": "localhost:3002",
  "schemes": [
    "http"
  ],
  "produces": [
    "application/json",
    "text/plain"
  ],
  "paths": {
    "/users/login": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "用户登录",
        "operationId": "userLogin",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "body",
            "schema": {
              "$ref": "LoginForm"
            },
            "in": "body",
            "required": true,
            "description": "登录邮箱和密码"
          }
        ],
        "responses": {
          "200": {
            "description": "登录成功后返回的数据",
            "schema": {
              "$ref": "LoginSuccess"
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/users/logout": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "用户注销",
        "operationId": "userLogout",
        "responses": {
          "204": {
            "description": "注销成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/users": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "注册用户",
        "operationId": "registerUser",
        "parameters": [
          {
            "name": "body",
            "schema": {
              "$ref": "UserRegisterForm"
            },
            "in": "body",
            "required": true,
            "description": "用户注册表单数据"
          }
        ],
        "responses": {
          "201": {
            "description": "注册成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/users/{userId}": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "获取用户数据",
        "operationId": "getUserData",
        "parameters": [
          {
            "name": "userId",
            "description": "用户id",
            "required": true,
            "type": "string",
            "in": "path",
            "default": "53aa707a11fd597b3e1be260"
          }
        ],
        "responses": {
          "200": {
            "description": "用户数据",
            "schema": {
              "$ref": "User"
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      },
      "put": {
        "tags": [
          "users"
        ],
        "summary": "修改用户数据",
        "operationId": "editUserData",
        "consumes": [
          "multipart/form-data"
        ],
        "parameters": [
          {
            "name": "userId",
            "description": "用户id",
            "required": true,
            "type": "string",
            "in": "path",
            "default": "53aa707a11fd597b3e1be260"
          },
          {
            "name": "nickname",
            "description": "昵称",
            "required": false,
            "type": "string",
            "in": "formData"
          },
          {
            "name": "photo",
            "description": "头像",
            "required": false,
            "type": "file",
            "in": "formData"
          },
          {
            "name": "password",
            "description": "密码",
            "required": false,
            "type": "string",
            "in": "formData"
          },
          {
            "name": "realname",
            "description": "真实姓名",
            "required": false,
            "type": "string",
            "in": "formData"
          },
          {
            "name": "intro",
            "description": "简介",
            "required": false,
            "type": "string",
            "in": "formData"
          },
          {
            "name": "phone",
            "description": "手机号码",
            "required": false,
            "type": "string",
            "in": "formData"
          },
          {
            "name": "qq",
            "description": "QQ号码",
            "required": false,
            "type": "string",
            "in": "formData"
          }
        ],
        "responses": {
          "200": {
            "description": "修改成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      },
      "delete": {
        "tags": [
          "users"
        ],
        "summary": "屏蔽用户",
        "operationId": "deleteUser",
        "parameters": [
          {
            "name": "userId",
            "description": "用户id",
            "required": true,
            "type": "string",
            "in": "path",
            "default": "53aa707a11fd597b3e1be260"
          }
        ],
        "responses": {
          "204": {
            "description": "屏蔽成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/companies": {
      "post": {
        "tags": [
          "companies"
        ],
        "summary": "注册公司账号(todo)",
        "operationId": "addCompany",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "text/plain"
        ],
        "parameters": [
          {
            "name": "body",
            "description": "注册表单数据",
            "required": true,
            "schema": {
              "$ref": "CompanyRegisterForm"
            },
            "in": "body"
          }
        ],
        "responses": {
          "201": {
            "description": "注册成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/companies/{companyId}": {
      "get": {
        "tags": [
          "companies"
        ],
        "summary": "获取公司信息",
        "operationId": "getCompany",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "companyId",
            "description": "公司id",
            "required": true,
            "type": "string",
            "in": "path",
            "default": "53aa6fc011fd597b3e1be250"
          }
        ],
        "responses": {
          "200": {
            "description": "公司数据",
            "schema": {
              "$ref": "Company"
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      },
      "put": {
        "tags": [
          "companies"
        ],
        "summary": "修改公司数据",
        "consumes": [
          "multipart/form-data"
        ],
        "parameters": [
          {
            "name": "companyId",
            "description": "公司id",
            "required": true,
            "type": "string",
            "in": "path",
            "default": "53aa6fc011fd597b3e1be250"
          },
          {
            "name": "name",
            "description": "简称",
            "required": false,
            "type": "string",
            "in": "formData"
          },
          {
            "name": "logo",
            "description": "logo",
            "required": false,
            "type": "file",
            "in": "formData"
          },
          {
            "name": "password",
            "description": "密码",
            "required": false,
            "type": "string",
            "in": "formData"
          },
          {
            "name": "domain",
            "description": "邮箱后缀(可以是多个，用空格区分)",
            "required": false,
            "type": "array",
            "items": {
              "type": "string"
            },
            "collectionFormat": "ssv",
            "in": "formData"
          },
          {
            "name": "province",
            "description": "省份",
            "required": false,
            "type": "string",
            "in": "formData"
          },
          {
            "name": "city",
            "description": "城市",
            "required": false,
            "type": "string",
            "in": "formData"
          },
          {
            "name": "district",
            "description": "区",
            "required": false,
            "type": "string",
            "in": "formData"
          },
          {
            "name": "address",
            "description": "地址",
            "required": false,
            "type": "string",
            "in": "formData"
          },
          {
            "name": "contacts",
            "description": "联系人",
            "required": false,
            "type": "string",
            "in": "formData"
          },
          {
            "name": "areacode",
            "description": "区号",
            "required": false,
            "type": "string",
            "in": "formData"
          },
          {
            "name": "tel",
            "description": "电话号码",
            "required": false,
            "type": "string",
            "in": "formData"
          },
          {
            "name": "extension",
            "description": "分机",
            "required": false,
            "type": "string",
            "in": "formData"
          },
          {
            "name": "intro",
            "description": "简介",
            "required": false,
            "type": "string",
            "in": "formData"
          },
          {
            "name": "phone",
            "description": "手机号码",
            "required": false,
            "type": "string",
            "in": "formData"
          },
          {
            "name": "email",
            "description": "企业邮箱",
            "required": false,
            "type": "string",
            "in": "formData"
          }
        ],
        "responses": {
          "200": {
            "description": "修改成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/companies/validate": {
      "post": {
        "tags": [
          "companies"
        ],
        "summary": "验证某个属性是否已被使用",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "email",
            "description": "企业邮箱",
            "type": "string",
            "in": "formData"
          },
          {
            "name": "inviteCode",
            "description": "邀请码",
            "type": "string",
            "in": "formData"
          },
          {
            "name": "name",
            "description": "企业官方名（与营业执照一致的）",
            "type": "string",
            "in": "formData"
          },
          {
            "name": "username",
            "description": "用户名（登录用）",
            "type": "string",
            "in": "formData"
          }
        ],
        "responses": {
          "200": {
            "description": "验证完成",
            "schema": {
              "$ref": "ValidateResult"
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/companies/{companyId}/teams": {
      "get": {
        "tags": [
          "companies"
        ],
        "summary": "获取公司小队数据",
        "parameters": [
          {
            "name": "companyId",
            "description": "公司id",
            "required": true,
            "type": "string",
            "in": "path",
            "default": "53aa6fc011fd597b3e1be250"
          }
        ],
        "responses": {
          "200": {
            "description": "小队数据",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "TeamCard"
              }
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/companies/{companyId}/statistics": {
      "get": {
        "tags": [
          "companies"
        ],
        "summary": "获取公司小队或部门的统计信息",
        "parameters": [
          {
            "name": "companyId",
            "description": "公司id",
            "required": true,
            "type": "string",
            "in": "path",
            "default": "53aa6fc011fd597b3e1be250"
          },
          {
            "name": "target",
            "description": "部门或小队",
            "required": true,
            "type": "string",
            "enum": [
              "department",
              "team"
            ],
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "统计数据",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "StatisticsTeam"
              }
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/companies/{companyId}/members": {
      "get": {
        "tags": [
          "companies"
        ],
        "summary": "获取公司成员",
        "parameters": [
          {
            "name": "companyId",
            "description": "公司id",
            "required": true,
            "type": "string",
            "in": "path",
            "default": "53aa6fc011fd597b3e1be250"
          }
        ],
        "responses": {
          "200": {
            "description": "成员",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "Member"
              }
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/companies/{companyId}/departments": {
      "get": {
        "tags": [
          "companies"
        ],
        "summary": "获取公司部门数据",
        "parameters": [
          {
            "name": "companyId",
            "description": "公司id",
            "required": true,
            "type": "string",
            "in": "path",
            "default": "53aa6fc011fd597b3e1be250"
          }
        ],
        "responses": {
          "200": {
            "description": "部门数据",
            "schema": {
              "$ref": "DepartmentTree"
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/companies/{companyId}/tags": {
      "get": {
        "tags": [
          "companies"
        ],
        "summary": "获取公司相关标签",
        "parameters": [
          {
            "name": "companyId",
            "description": "公司id",
            "required": true,
            "type": "string",
            "in": "path",
            "default": "53aa6fc011fd597b3e1be250"
          }
        ],
        "responses": {
          "200": {
            "description": "tags",
            "schema": {
              "$ref": "Tags"
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/companies/login": {
      "post": {
        "tags": [
          "companies"
        ],
        "summary": "公司登录",
        "parameters": [
          {
            "name": "body",
            "schema": {
              "$ref": "CompanyLoginForm"
            },
            "in": "body",
            "required": true,
            "description": "登录邮箱和密码"
          }
        ],
        "responses": {
          "200": {
            "description": "登录成功后返回的数据",
            "schema": {
              "$ref": "LoginSuccess"
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/companies/logout": {
      "post": {
        "tags": [
          "companies"
        ],
        "summary": "公司注销",
        "responses": {
          "204": {
            "description": "注销成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/teams": {
      "post": {
        "tags": [
          "teams"
        ],
        "summary": "创建小队",
        "operationId": "createTeams",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "body",
            "description": "创建小队所需数据",
            "required": true,
            "schema": {
              "$ref": "CreateTeamsForm"
            },
            "in": "body"
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/teams/{teamId}": {
      "get": {
        "tags": [
          "teams"
        ],
        "summary": "获取小队数据",
        "operationId": "getTeamById",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "teamId",
            "description": "小队Id",
            "required": true,
            "type": "string",
            "in": "path",
            "default": "53aa701011fd597b3e1be25d"
          }
        ],
        "responses": {
          "200": {
            "description": "成功",
            "schema": {
              "$ref": "Team"
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      },
      "put": {
        "tags": [
          "teams"
        ],
        "summary": "修改小队数据",
        "operationId": "editTeamData",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "teamId",
            "description": "小队Id",
            "required": true,
            "type": "string",
            "in": "path",
            "default": "53aa701011fd597b3e1be25d"
          },
          {
            "name": "name",
            "description": "小队名称",
            "required": false,
            "type": "string",
            "in": "formData"
          },
          {
            "name": "logo",
            "description": "logo",
            "required": false,
            "type": "file",
            "in": "formData"
          },
          {
            "name": "brief",
            "description": "小队简介",
            "required": false,
            "type": "string",
            "in": "formData"
          },
          {
            "name": "home_court",
            "description": "主场信息",
            "required": false,
            "type": "array",
            "items": {
              "$ref": "HomeCourt"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      },
      "delete": {
        "tags": [
          "teams"
        ],
        "summary": "关闭小队",
        "operationId": "deleteTeam",
        "parameters": [
          {
            "name": "teamId",
            "description": "小队Id",
            "required": true,
            "type": "string",
            "in": "path",
            "default": "53aa701011fd597b3e1be25d"
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/teams/{teamId}/family_photos": {
      "post": {
        "tags": [
          "teams"
        ],
        "summary": "上传全家福",
        "operationId": "uploadFamilyPhotos",
        "consumes": [
          "multipart/form-data"
        ],
        "parameters": [
          {
            "name": "teamId",
            "description": "小队Id",
            "required": true,
            "type": "string",
            "in": "path",
            "default": "53aa701011fd597b3e1be25d"
          },
          {
            "name": "photo",
            "description": "全家福照片",
            "required": true,
            "type": "file",
            "in": "formData"
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      },
      "get": {
        "tags": [
          "teams"
        ],
        "summary": "获取全家福",
        "operationId": "getFamilyPhotos",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "teamId",
            "description": "小队Id",
            "required": true,
            "type": "string",
            "in": "path",
            "default": "53aa701011fd597b3e1be25d"
          }
        ],
        "responses": {
          "200": {
            "description": "成功",
            "schema": {
              "name": "family_photos",
              "type": "array",
              "required": true,
              "description": "全家福照片",
              "items": {
                "$ref": "FamilyPhoto"
              }
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/teams/{teamId}/family_photos/{familyPhotoId}": {
      "put": {
        "tags": [
          "teams"
        ],
        "summary": "修改选中状态",
        "operationId": "toggleSelectFamilyPhoto",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "teamId",
            "description": "小队Id",
            "required": true,
            "type": "string",
            "in": "path",
            "default": "53aa701011fd597b3e1be25d"
          },
          {
            "name": "familyPhotoId",
            "description": "相片Id",
            "required": true,
            "type": "string",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      },
      "delete": {
        "tags": [
          "teams"
        ],
        "summary": "删除全家福照片",
        "operationId": "deleteFamilyPhoto",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "teamId",
            "description": "小队Id",
            "required": true,
            "type": "string",
            "in": "path",
            "default": "53aa701011fd597b3e1be25d"
          },
          {
            "name": "familyPhotoId",
            "description": "相片Id",
            "required": true,
            "type": "string",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/teams/{teamId}/users/{userId}": {
      "put": {
        "tags": [
          "teams"
        ],
        "summary": "加入小队",
        "operationId": "joinTeam",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "teamId",
            "description": "小队Id",
            "required": true,
            "type": "string",
            "in": "path",
            "default": "53aa701011fd597b3e1be25d"
          },
          {
            "name": "userId",
            "description": "用户id",
            "required": true,
            "type": "string",
            "in": "path",
            "default": "53aa707a11fd597b3e1be260"
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      },
      "delete": {
        "tags": [
          "teams"
        ],
        "summary": "退出小队",
        "operationId": "quitTeam",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "teamId",
            "description": "小队Id",
            "required": true,
            "type": "string",
            "in": "path",
            "default": "53aa701011fd597b3e1be25d"
          },
          {
            "name": "userId",
            "description": "用户id",
            "required": true,
            "type": "string",
            "in": "path",
            "default": "53aa707a11fd597b3e1be260"
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/departments": {
      "post": {
        "tags": [
          "departments"
        ],
        "summary": "创建部门",
        "parameters": [
          {
            "name": "body",
            "description": "部门数据",
            "required": true,
            "schema": {
              "$ref": "CreateDepartmentData"
            },
            "in": "body"
          }
        ],
        "responses": {
          "201": {
            "description": "创建成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/departments/{departmentId}": {
      "put": {
        "tags": [
          "departments"
        ],
        "summary": "修改部门",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "departmentId",
            "description": "部门id",
            "required": true,
            "type": "string",
            "in": "path",
            "default": "53c8d43df52d7d4e5ba03def"
          },
          {
            "name": "name",
            "description": "部门名字",
            "required": true,
            "type": "string",
            "in": "formData"
          }
        ],
        "responses": {
          "200": {
            "description": "修改成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      },
      "delete": {
        "tags": [
          "departments"
        ],
        "summary": "删除部门",
        "parameters": [
          {
            "name": "departmentId",
            "description": "部门id",
            "required": true,
            "type": "string",
            "in": "path",
            "default": "53c8d43df52d7d4e5ba03def"
          }
        ],
        "responses": {
          "204": {
            "description": "删除成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/departments/{departmentId}/users/{userId}": {
      "put": {
        "tags": [
          "departments"
        ],
        "summary": "加入部门",
        "parameters": [
          {
            "name": "departmentId",
            "description": "部门id",
            "required": true,
            "type": "string",
            "in": "path",
            "default": "53c8d43df52d7d4e5ba03def"
          },
          {
            "name": "userId",
            "description": "用户id",
            "required": true,
            "type": "string",
            "in": "path",
            "default": "53aa707a11fd597b3e1be260"
          }
        ],
        "responses": {
          "200": {
            "description": "加入部门成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      },
      "delete": {
        "tags": [
          "departments"
        ],
        "summary": "退出部门",
        "parameters": [
          {
            "name": "departmentId",
            "description": "部门id",
            "required": true,
            "type": "string",
            "in": "path",
            "default": "53c8d43df52d7d4e5ba03def"
          },
          {
            "name": "userId",
            "description": "用户id",
            "required": true,
            "type": "string",
            "in": "path",
            "default": "53aa707a11fd597b3e1be260"
          }
        ],
        "responses": {
          "200": {
            "description": "退出部门成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/campaigns": {
      "post": {
        "tags": [
          "campaigns"
        ],
        "summary": "发起活动",
        "operationId": "addCampaign",
        "parameters": [
          {
            "name": "body",
            "description": "Campaign object that needs to be added to the store",
            "required": true,
            "schema": {
              "$ref": "Campaign"
            },
            "in": "body"
          }
        ],
        "responses": {
          "200": {
            "description": "发起成功",
            "schema": {
              "$ref": "AddCampaignSuccess"
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      },
      "get": {
        "tags": [
          "campaigns"
        ],
        "summary": "获取活动列表",
        "operationId": "getCampaign",
        "parameters": [
          {
            "name": "requestType",
            "description": "requestType",
            "required": true,
            "type": "string",
            "in": "query",
            "enum": [
              "user",
              "team",
              "company"
            ]
          },
          {
            "name": "requestId",
            "description": "requestId",
            "required": true,
            "type": "string",
            "in": "query"
          },
          {
            "name": "start_time",
            "description": "start_time",
            "required": false,
            "type": "string",
            "in": "query"
          },
          {
            "name": "end_time",
            "description": "end_time",
            "required": false,
            "type": "string",
            "in": "query"
          },
          {
            "name": "join_flag",
            "description": "join_flag",
            "required": false,
            "type": "string",
            "in": "query"
          },
          {
            "name": "lastcomment_time",
            "description": "join_flag",
            "required": false,
            "type": "string",
            "in": "query"
          },
          {
            "name": "orderby",
            "description": "orderby",
            "required": false,
            "type": "string",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "成功",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "Campaign"
              }
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/campaigns/{campaignId}": {
      "get": {
        "tags": [
          "campaigns"
        ],
        "summary": "获取单个活动",
        "operationId": "getCampaignById",
        "parameters": [
          {
            "name": "campaignId",
            "description": "活动 Id",
            "required": true,
            "type": "string",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "成功",
            "schema": {
              "$ref": "Campaign"
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      },
      "put": {
        "tags": [
          "campaigns"
        ],
        "summary": "修改活动",
        "operationId": "updateCampaign",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "campaignId",
            "description": "活动 Id",
            "required": true,
            "type": "string",
            "in": "path"
          },
          {
            "name": "body",
            "description": "Campaign object that needs to be added to the store",
            "required": true,
            "schema": {
              "$ref": "Campaign"
            },
            "in": "body"
          }
        ],
        "responses": {
          "200": {
            "description": "成功",
            "schema": {
              "$ref": "Campaign"
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      },
      "delete": {
        "tags": [
          "campaigns"
        ],
        "summary": "关闭活动",
        "operationId": "closeCampaign",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "campaignId",
            "description": "活动 Id",
            "required": true,
            "type": "string",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/campaigns/{campaignId}/dealProvoke": {
      "put": {
        "tags": [
          "campaigns"
        ],
        "summary": "处理挑战",
        "operationId": "con",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "campaignId",
            "description": "活动Id",
            "required": true,
            "type": "string",
            "in": "path"
          },
          {
            "name": "body",
            "description": "处理的类型",
            "required": false,
            "type": "object",
            "in": "body",
            "properties": {
              "dealType": {
                "type": "integer",
                "format": "int32",
                "enum": [
                  1,
                  2,
                  3
                ]
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功",
            "schema": {
              "$ref": "Campaign"
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/campaigns/{campaignId}/users/{userId}": {
      "post": {
        "tags": [
          "campaigns"
        ],
        "summary": "参加活动",
        "operationId": "joinCampaign",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "campaignId",
            "description": "活动 Id",
            "required": true,
            "type": "string",
            "in": "path"
          },
          {
            "name": "userId",
            "description": "用户 Id",
            "required": true,
            "type": "string",
            "in": "path"
          },
          {
            "name": "teamId",
            "description": "小队 Id",
            "required": false,
            "type": "string",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "成功",
            "schema": {
              "$ref": "Campaign"
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      },
      "delete": {
        "tags": [
          "campaigns"
        ],
        "summary": "退出活动",
        "operationId": "quitCampaign",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "campaignId",
            "description": "活动 Id",
            "required": true,
            "type": "string",
            "in": "path"
          },
          {
            "name": "userId",
            "description": "用户 Id",
            "required": true,
            "type": "string",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "成功",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/timeline/record/{requestType}/{requestId}": {
      "get": {
        "tags": [
          "timeline"
        ],
        "summary": "获取timeline记录",
        "operationId": "getTimelinesRecord",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "requestType",
            "description": "主体类型",
            "required": true,
            "type": "string",
            "in": "path",
            "enum": [
              "user",
              "team",
              "company"
            ]
          },
          {
            "name": "requestId",
            "description": "主体Id",
            "required": true,
            "type": "string",
            "in": "path"
          },
          {
            "name": "unfinishFlag",
            "description": "是否包含未完成的活动",
            "required": false,
            "type": "boolean",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "成功",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "TimelineRecord"
              }
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/timeline/data/{requestType}/{requestId}": {
      "get": {
        "tags": [
          "timeline"
        ],
        "summary": "获取timline数据",
        "operationId": "getTimelinesData",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "requestType",
            "description": "主体类型",
            "required": true,
            "type": "string",
            "in": "path",
            "enum": [
              "user",
              "team",
              "company"
            ]
          },
          {
            "name": "requestId",
            "description": "主体Id",
            "required": true,
            "type": "string",
            "in": "path"
          },
          {
            "name": "year",
            "description": "timeline year",
            "required": true,
            "type": "string",
            "in": "query"
          },
          {
            "name": "month",
            "description": "timeline month",
            "required": true,
            "type": "string",
            "in": "query"
          },
          {
            "name": "unfinishFlag",
            "description": "是否包含未完成的活动",
            "required": false,
            "type": "boolean",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "成功",
            "schema": {
              "$ref": "TimelineData"
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/photo_albums": {
      "post": {
        "tags": [
          "photoAlbums"
        ],
        "summary": "创建相册",
        "operationId": "createPhotoAlbum",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "body",
            "description": "相册信息",
            "required": true,
            "schema": {
              "$ref": "CreatePhotoAlbumForm"
            },
            "in": "body"
          }
        ],
        "responses": {
          "201": {
            "description": "成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      },
      "get": {
        "tags": [
          "photoAlbums"
        ],
        "summary": "获取相册列表",
        "parameters": [
          {
            "name": "ownerType",
            "description": "相册所属类型，现在只允许是team",
            "type": "string",
            "in": "query"
          },
          {
            "name": "onwerId",
            "description": "相册所属model的id",
            "type": "string",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "成功",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "PhotoAlbum"
              }
            }
          }
        }
      }
    },
    "/photo_albums/{photoAlbumId}": {
      "get": {
        "tags": [
          "photoAlbums"
        ],
        "summary": "获取相册数据",
        "operationId": "getPhotoAlbum",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "photoAlbumId",
            "description": "相册 Id",
            "required": true,
            "type": "string",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "成功",
            "schema": {
              "$ref": "PhotoAlbum"
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      },
      "put": {
        "tags": [
          "photoAlbums"
        ],
        "summary": "修改相册数据",
        "operationId": "updatePotoAlbum",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "photoAlbumId",
            "description": "相册 Id",
            "required": true,
            "type": "string",
            "in": "path"
          },
          {
            "name": "name",
            "description": "相册名",
            "required": false,
            "type": "string",
            "in": "formData"
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      },
      "delete": {
        "tags": [
          "photoAlbums"
        ],
        "summary": "删除相册",
        "operationId": "deletePhotoAlbum",
        "parameters": [
          {
            "name": "photoAlbumId",
            "description": "相册 Id",
            "required": true,
            "type": "string",
            "in": "path"
          }
        ],
        "responses": {
          "204": {
            "description": "成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/photo_albums/{photoAlbumId}/photos": {
      "post": {
        "tags": [
          "photoAlbums"
        ],
        "summary": "上传照片",
        "operationId": "createPhoto",
        "consumes": [
          "multipart/form-data"
        ],
        "parameters": [
          {
            "name": "photoAlbumId",
            "description": "相册 Id",
            "required": true,
            "type": "string",
            "in": "path"
          },
          {
            "name": "photo",
            "description": "照片文件",
            "required": true,
            "type": "file",
            "in": "formData"
          }
        ],
        "responses": {
          "201": {
            "description": "成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      },
      "get": {
        "tags": [
          "photoAlbums"
        ],
        "summary": "获取相册的照片列表",
        "operationId": "getPhotos",
        "parameters": [
          {
            "name": "photoAlbumId",
            "description": "相册 Id",
            "required": true,
            "type": "string",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "成功",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "PhotoForList"
              }
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/photo_albums/{photoAlbumId}/photos/{photoId}": {
      "get": {
        "tags": [
          "photoAlbums"
        ],
        "summary": "获取照片数据",
        "operationId": "getPhoto",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "photoAlbumId",
            "description": "相册 Id",
            "required": true,
            "type": "string",
            "in": "path"
          },
          {
            "name": "photoId",
            "description": "照片Id",
            "required": true,
            "type": "string",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "成功",
            "$ref": "Photo"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      },
      "put": {
        "tags": [
          "photoAlbums"
        ],
        "summary": "修改照片数据",
        "operationId": "updatePhoto",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "photoAlbumId",
            "description": "相册 Id",
            "required": true,
            "type": "string",
            "in": "path"
          },
          {
            "name": "photoId",
            "description": "照片Id",
            "required": true,
            "type": "string",
            "in": "path"
          },
          {
            "name": "name",
            "description": "照片名字",
            "required": true,
            "type": "string",
            "in": "formData"
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      },
      "delete": {
        "tags": [
          "photoAlbums"
        ],
        "summary": "删除照片",
        "parameters": [
          {
            "name": "photoAlbumId",
            "description": "相册 Id",
            "required": true,
            "type": "string",
            "in": "path"
          },
          {
            "name": "photoId",
            "description": "照片Id",
            "required": true,
            "type": "string",
            "in": "path"
          }
        ],
        "responses": {
          "204": {
            "description": "成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/comments": {
      "post": {
        "tags": [
          "comments"
        ],
        "summary": "发表评论",
        "operationId": "createComments",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "body",
            "description": "评论信息",
            "required": true,
            "schema": {
              "$ref": "Comment"
            },
            "in": "body"
          }
        ],
        "responses": {
          "200": {
            "description": "成功",
            "schema": {
              "$ref": "Comment"
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      },
      "get": {
        "tags": [
          "comments"
        ],
        "summary": "获取评论",
        "operationId": "getComments",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "requestType",
            "description": "主体类型",
            "required": true,
            "type": "string",
            "in": "query",
            "enum": [
              "comment",
              "campaign"
            ]
          },
          {
            "name": "requestId",
            "description": "主题Id",
            "required": true,
            "type": "string",
            "in": "query"
          },
          {
            "name": "limit",
            "description": "数量限制",
            "required": false,
            "type": "integer",
            "format": "int32",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "成功",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "Comment"
              }
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/comments/{commentId}": {
      "get": {
        "tags": [
          "comments"
        ],
        "summary": "获取一条评论",
        "operationId": "getComment",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "commentId",
            "description": "评论Id",
            "required": true,
            "type": "string",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "成功",
            "schema": {
              "$ref": "Comment"
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      },
      "delete": {
        "tags": [
          "comments"
        ],
        "summary": "删除评论",
        "operationId": "deleteComment",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "commentId",
            "description": "评论Id",
            "required": true,
            "type": "string",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/messages": {
      "post": {
        "tags": [
          "messages"
        ],
        "summary": "发站内信",
        "operationId": "createMessage",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "body",
            "description": "站内信信息",
            "required": true,
            "schema": {
              "$ref": "Message"
            },
            "in": "body"
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      },
      "get": {
        "tags": [
          "messages"
        ],
        "summary": "获取站内信",
        "operationId": "getComments",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "requestType",
            "description": "主体类型",
            "required": true,
            "type": "string",
            "in": "query"
          },
          {
            "name": "requestId",
            "description": "主题Id",
            "required": true,
            "type": "string",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "成功",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "Message"
              }
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/messages/{messageId}": {
      "put": {
        "tags": [
          "messages"
        ],
        "summary": "修改站内信",
        "operationId": "upadateMessage",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "messageId",
            "description": "站内信Id",
            "required": true,
            "type": "string",
            "in": "path"
          },
          {
            "name": "body",
            "description": "站内信信息",
            "required": true,
            "schema": {
              "$ref": "Message"
            },
            "in": "body"
          }
        ],
        "responses": {
          "200": {
            "description": "成功",
            "schema": {
              "$ref": "Message"
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      },
      "get": {
        "tags": [
          "messages"
        ],
        "summary": "获取一条站内信",
        "operationId": "getComments",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "messageId",
            "description": "站内信Id",
            "required": true,
            "type": "string",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "成功",
            "schema": {
              "$ref": "Message"
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/search": {
      "get": {
        "tags": [
          "search"
        ],
        "summary": "搜索",
        "operationId": "search",
        "consumes": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "成功"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/region": {
      "get": {
        "tags": [
          "region"
        ],
        "summary": "获取区域数据",
        "operationId": "getRegion",
        "consumes": [
          "application/json"
        ],
        "responses": {
          "200": {
            "description": "成功",
            "schema": {
              "$ref": "RegionData"
            }
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/push": {
      "post": {
        "tags": [
          "push"
        ],
        "summary": "指定人员推送通知",
        "operationId": "pushService",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "body",
            "schema": {
              "$ref": "PushData"
            },
            "in": "body",
            "required": true,
            "description": "推送数据"
          }
        ],
        "responses": {
          "202": {
            "description": "请求提交成功，稍后将异步的进行处理"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/push/team/{teamId}": {
      "post": {
        "tags": [
          "push"
        ],
        "summary": "对小队成员推送",
        "operationId": "pushToTeamMembers",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "teamId",
            "description": "小队 Id",
            "required": true,
            "type": "string",
            "in": "path"
          },
          {
            "name": "body",
            "schema": {
              "$ref": "PushData"
            },
            "in": "body",
            "required": true,
            "description": "推送数据"
          }
        ],
        "responses": {
          "202": {
            "description": "请求提交成功，稍后将异步的进行处理"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    },
    "/push/company/{companyId}": {
      "post": {
        "tags": [
          "push"
        ],
        "summary": "对公司成员推送",
        "operationId": "pushToCompanyMembers",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "companyId",
            "description": "公司 Id",
            "required": true,
            "type": "string",
            "in": "path"
          },
          {
            "name": "body",
            "schema": {
              "$ref": "PushData"
            },
            "in": "body",
            "required": true,
            "description": "推送数据"
          }
        ],
        "responses": {
          "202": {
            "description": "请求提交成功，稍后将异步的进行处理"
          },
          "default": {
            "description": "error",
            "schema": {
              "$ref": "Error"
            }
          }
        }
      }
    }
  },
  "definitions": {
    "LoginForm": {
      "title": "LoginForm",
      "type": "object",
      "required": [
        "email",
        "password"
      ],
      "properties": {
        "email": {
          "description": "用户邮箱",
          "type": "string"
        },
        "password": {
          "description": "密码",
          "type": "string"
        }
      }
    },
    "CompanyLoginForm": {
      "title": "CompanyLoginForm",
      "type": "object",
      "required": [
        "username",
        "password"
      ],
      "properties": {
        "username": {
          "description": "用户名",
          "type": "string"
        },
        "password": {
          "description": "密码",
          "type": "string"
        }
      }
    },
    "LoginSuccess": {
      "title": "LoginSuccess",
      "type": "object",
      "required": [
        "token"
      ],
      "properties": {
        "token": {
          "type": "string",
          "description": "access token, 有效期7天"
        }
      }
    },
    "User": {
      "title": "User",
      "type": "object",
      "required": [
        "email"
      ],
      "properties": {
        "email": {
          "type": "string",
          "description": "用户邮箱"
        },
        "nickname": {
          "type": "string",
          "description": "昵称"
        },
        "realname": {
          "type": "string",
          "description": "真实姓名"
        },
        "department": {
          "type": "object",
          "description": "部门",
          "properties": {
            "_id": {
              "type": "string",
              "description": "部门id"
            },
            "name": {
              "type": "string",
              "description": "部门名"
            }
          }
        },
        "sex": {
          "type": "string",
          "enum": [
            "男",
            "女"
          ],
          "description": "性别"
        },
        "birthday": {
          "type": "string",
          "format": "date-time",
          "description": "生日"
        },
        "bloodType": {
          "type": "string",
          "description": "血型"
        },
        "introduce": {
          "type": "string",
          "description": "简介"
        },
        "registerDate": {
          "type": "string",
          "format": "date-time",
          "description": "注册时间"
        },
        "phone": {
          "type": "string",
          "description": "电话号码"
        },
        "qq": {
          "type": "string",
          "description": "QQ"
        },
        "company": {
          "type": "object",
          "description": "公司",
          "properties": {
            "_id": {
              "type": "string",
              "description": "公司id"
            },
            "name": {
              "type": "string",
              "description": "公司名"
            },
            "briefName": {
              "type": "string",
              "description": "公司简称"
            }
          }
        },
        "tids": {
          "type": "array",
          "description": "小队id数组",
          "items": {
            "type": "string"
          }
        },
        "lastCommentTime": {
          "type": "string",
          "format": "date-time",
          "description": "上次发表评论的时间"
        }
      }
    },
    "UserRegisterForm": {
      "title": "UserRegisterForm",
      "type": "object",
      "required": [
        "cid",
        "email",
        "domain",
        "nickname",
        "password",
        "realname",
        "department"
      ],
      "properties": {
        "cid": {
          "description": "公司id",
          "type": "string"
        },
        "email": {
          "description": "用户邮箱（不含@及其后面部分）",
          "type": "string"
        },
        "domain": {
          "description": "邮箱域名",
          "type": "string"
        },
        "nickname": {
          "description": "昵称",
          "type": "string"
        },
        "password": {
          "description": "密码",
          "type": "string"
        },
        "realname": {
          "description": "真实姓名",
          "type": "string"
        },
        "department": {
          "description": "部门",
          "type": "array",
          "items": {
            "description": "部门名",
            "type": "string"
          }
        },
        "phone": {
          "description": "手机号码",
          "type": "string"
        }
      }
    },
    "CompanyRegisterForm": {
      "title": "CompanyRegisterForm",
      "type": "object",
      "required": [
        "name",
        "province",
        "city",
        "district",
        "address",
        "contacts",
        "tel",
        "email"
      ],
      "properties": {
        "name": {
          "description": "公司名称，与营业执照注册名保持一致",
          "type": "string"
        },
        "province": {
          "description": "省份",
          "type": "string"
        },
        "city": {
          "description": "城市",
          "type": "string"
        },
        "district": {
          "description": "区",
          "type": "string"
        },
        "address": {
          "description": "详细地址",
          "type": "string"
        },
        "contacts": {
          "description": "联系人",
          "type": "string"
        },
        "areacode": {
          "type": "string",
          "description": "区号"
        },
        "tel": {
          "type": "string",
          "description": "号码"
        },
        "extension": {
          "type": "string",
          "description": "分机"
        },
        "email": {
          "description": "公司邮箱",
          "type": "string"
        },
        "phone": {
          "description": "联系人手机号码",
          "type": "string"
        },
        "inviteCode": {
          "description": "邀请码",
          "type": "string"
        }
      }
    },
    "Company": {
      "title": "Company",
      "required": [
        "_id",
        "name",
        "short_name",
        "logo"
      ],
      "properties": {
        "_id": {
          "description": "公司id",
          "type": "string"
        },
        "username": {
          "description": "企业账号登录用的用户名",
          "type": "string"
        },
        "domains": {
          "description": "邮箱后缀",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "name": {
          "description": "公司名称",
          "type": "string"
        },
        "shortName": {
          "description": "公司简称",
          "type": "string"
        },
        "logo": {
          "description": "公司logo url",
          "type": "string"
        },
        "province": {
          "description": "省份",
          "type": "string"
        },
        "city": {
          "description": "城市",
          "type": "string"
        },
        "district": {
          "description": "区",
          "type": "string"
        },
        "address": {
          "description": "详细地址",
          "type": "string"
        },
        "contacts": {
          "description": "联系人",
          "type": "string"
        },
        "email": {
          "description": "公司邮箱",
          "type": "string"
        },
        "memberNumber": {
          "description": "公司成员数量",
          "type": "integer",
          "format": "int64"
        },
        "companyInviteCodes": {
          "description": "可供其它企业注册时使用的邀请码",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "staffInviteCode": {
          "description": "给该企业员工使用的邀请码",
          "type": "string"
        }
      }
    },
    "ValidateResult": {
      "title": "ValidateResult",
      "type": "object",
      "required": [
        "validate",
        "msg"
      ],
      "properties": {
        "validate": {
          "description": "验证结果",
          "type": "boolean"
        },
        "msg": {
          "description": "验证结果描述",
          "type": "string"
        }
      }
    },
    "TeamCard": {
      "title": "TeamCard",
      "type": "object",
      "required": [
        "cid",
        "cname",
        "groupType",
        "name",
        "logo",
        "brief",
        "total",
        "memberCount",
        "previewMembers",
        "latestCampaign",
        "latestPhotos"
      ],
      "properties": {
        "cid": {
          "description": "公司id",
          "type": "string"
        },
        "cname": {
          "description": "公司名称(简称)",
          "type": "string"
        },
        "groupType": {
          "description": "类型",
          "type": "string"
        },
        "name": {
          "description": "小队名称",
          "type": "string"
        },
        "logo": {
          "description": "小队logo url",
          "type": "string"
        },
        "brief": {
          "description": "小队简介",
          "type": "string"
        },
        "total": {
          "description": "积分",
          "type": "integer",
          "format": "int32"
        },
        "memberCount": {
          "description": "成员人数",
          "type": "integer",
          "format": "int32"
        },
        "previewMembers": {
          "description": "用于卡片展示的几个成员",
          "type": "array",
          "items": {
            "$ref": "Member"
          }
        },
        "latestCampaign": {
          "description": "最新活动",
          "$ref": "LatestCampaign"
        },
        "latestPhotos": {
          "description": "最新照片",
          "type": "array",
          "items": {
            "type": "string",
            "description": "照片url"
          }
        }
      }
    },
    "StatisticsTeam": {
      "title": "StatisticsTeam",
      "type": "object",
      "required": [
        "cid",
        "cname",
        "groupType",
        "name",
        "logo",
        "brief",
        "score",
        "active",
        "count",
        "memberCount"
      ],
      "properties": {
        "cid": {
          "description": "公司id",
          "type": "string"
        },
        "cname": {
          "description": "公司名称(简称)",
          "type": "string"
        },
        "did": {
          "description": "部门id",
          "type": "string"
        },
        "groupType": {
          "description": "类型",
          "type": "string"
        },
        "name": {
          "description": "小队(部门)名称",
          "type": "string"
        },
        "logo": {
          "description": "小队(部门)logo url",
          "type": "string"
        },
        "brief": {
          "description": "小队(部门)简介",
          "type": "string"
        },
        "score": {
          "$ref": "Score",
          "description": "积分"
        },
        "active": {
          "description": "是否激活",
          "type": "boolean"
        },
        "count": {
          "$ref": "CompanyCount",
          "description": "统计信息"
        },
        "memberCount": {
          "description": "成员人数",
          "type": "integer"
        }
      }
    },
    "Score": {
      "title": "Score",
      "type": "object",
      "properties": {
        "campaign": {
          "description": "活动加分",
          "type": "integer",
          "format": "int32"
        },
        "member": {
          "description": "成员加分",
          "type": "integer",
          "format": "int32"
        },
        "participator": {
          "description": "参加成员加分",
          "type": "integer",
          "format": "int32"
        },
        "comment": {
          "description": "评论加分",
          "type": "integer",
          "format": "int32"
        },
        "album": {
          "description": "相册加分",
          "type": "integer",
          "format": "int32"
        },
        "provoke": {
          "description": "挑战加分",
          "type": "integer",
          "format": "int32"
        },
        "total": {
          "description": "总积分",
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "CompanyCount": {
      "title": "CompanyCount",
      "type": "object",
      "properties": {
        "current_week_campaign": {
          "description": "本周活动数量",
          "type": "integer",
          "format": "int32"
        },
        "current_week_member": {
          "description": "本周活动人次",
          "type": "integer",
          "format": "int32"
        },
        "last_week_campaign": {
          "description": "上周活动数量",
          "type": "integer",
          "format": "int32"
        },
        "last_week_member": {
          "description": "上周活动人次",
          "type": "integer",
          "format": "int32"
        },
        "last_month_campaign": {
          "description": "上个月活动数量",
          "type": "integer",
          "format": "int32"
        },
        "last_month_member": {
          "description": "上个月活动人次",
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "LatestCampaign": {
      "title": "LatestCampaign",
      "type": "object",
      "properties": {
        "_id": {
          "description": "活动id",
          "type": "string"
        },
        "href": {
          "description": "活动链接",
          "type": "string"
        },
        "theme": {
          "description": "活动主题",
          "type": "string"
        }
      }
    },
    "Campaign": {
      "title": "Campaign",
      "properties": {
        "cid": {
          "type": "array",
          "description": "活动所属公司的id",
          "items": {
            "type": "string"
          }
        },
        "tid": {
          "type": "array",
          "description": "活动所属小队的id",
          "items": {
            "type": "string"
          }
        },
        "campaign_unit": {
          "type": "array",
          "description": "活动的阵营",
          "items": {
            "$ref": "CampaignUnit"
          }
        },
        "theme": {
          "type": "string",
          "description": "活动主题"
        },
        "location": {
          "$ref": "Location"
        },
        "start_time": {
          "description": "活动开始时间",
          "type": "string",
          "format": "date-time"
        },
        "end_time": {
          "description": "活动结束时间",
          "type": "string",
          "format": "date-time"
        },
        "deadline": {
          "description": "报名截止时间",
          "type": "string",
          "format": "date-time"
        },
        "campaign_mold": {
          "description": "活动类型",
          "type": "string"
        },
        "content": {
          "description": "活动内容",
          "type": "string"
        },
        "member_min": {
          "description": "报名人数下限",
          "type": "integer"
        },
        "member_max": {
          "description": "报名人数上限",
          "type": "integer"
        },
        "tags": {
          "description": "标签",
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "Location": {
      "title": "Location",
      "required": [
        "name"
      ],
      "properties": {
        "name": {
          "type": "string",
          "description": "地点名称"
        },
        "coordinate": {
          "type": "array",
          "description": "地点坐标",
          "items": {
            "type": "number",
            "format": "double"
          }
        }
      }
    },
    "CampaignUnit": {
      "title": "CampaignUnit",
      "properties": {
        "company": {
          "$ref": "CompanyBrief"
        },
        "team": {
          "$ref": "TeamBrief"
        },
        "member": {
          "type": "array",
          "description": "参加的成员",
          "items": {
            "$ref": "Member"
          }
        },
        "member_quit": {
          "type": "array",
          "description": "退出的成员",
          "items": {
            "$ref": "Member"
          }
        }
      }
    },
    "CompanyBrief": {
      "title": "CompanyBrief",
      "required": [
        "_id"
      ],
      "properties": {
        "_id": {
          "type": "string",
          "description": "公司id"
        },
        "name": {
          "type": "string",
          "description": "公司名称"
        },
        "logo": {
          "type": "string",
          "description": "公司头像"
        }
      }
    },
    "TeamBrief": {
      "title": "TeamBrief",
      "required": [
        "_id"
      ],
      "properties": {
        "_id": {
          "type": "string",
          "description": "小队id"
        },
        "name": {
          "type": "string",
          "description": "小队名称"
        },
        "logo": {
          "type": "string",
          "description": "小队头像"
        }
      }
    },
    "Member": {
      "title": "Member",
      "required": [
        "_id"
      ],
      "properties": {
        "_id": {
          "type": "string",
          "description": "用户id"
        },
        "nickname": {
          "type": "string",
          "description": "用户昵称"
        },
        "photo": {
          "type": "string",
          "description": "用户头像"
        }
      }
    },
    "ErrorMsg": {
      "title": "错误信息",
      "type": "object",
      "required": [
        "msg"
      ],
      "properties": {
        "msg": {
          "description": "错误信息",
          "type": "string"
        }
      }
    },
    "AddCampaignSuccess": {
      "title": "AddCampaignSuccess",
      "type": "object",
      "required": [
        "campaign_id",
        "photo_album_id"
      ],
      "properties": {
        "campaign_id": {
          "type": "string",
          "description": "campaign id"
        },
        "photo_album_id": {
          "type": "string",
          "description": "photo_album id"
        }
      }
    },
    "TimelineRecord": {
      "title": "TimelineRecord",
      "description": "timeline record",
      "type": "object",
      "required": [
        "year",
        "month"
      ],
      "properties": {
        "year": {
          "type": "string"
        },
        "month": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "month": {
                "type": "string"
              }
            }
          }
        }
      }
    },
    "TimelineData": {
      "title": "TimelineData",
      "type": "object",
      "description": "timeline data",
      "properties": {
        "year": {
          "type": "string"
        },
        "month": {
          "type": "string"
        },
        "campaigns": {
          "type": "array",
          "items": {
            "$ref": "Campaign"
          }
        }
      }
    },
    "CreateDepartmentData": {
      "title": "CreateDepartmentData",
      "type": "object",
      "required": [
        "parentId",
        "name",
        "cid"
      ],
      "properties": {
        "parentId": {
          "type": "string",
          "description": "父级部门或公司id"
        },
        "name": {
          "type": "string",
          "description": "新建的部门名"
        },
        "cid": {
          "type": "string",
          "description": "部门所属公司的id"
        }
      }
    },
    "DepartmentTree": {
      "title": "DepartmentTree",
      "type": "object",
      "required": [
        "_id",
        "name"
      ],
      "properties": {
        "_id": {
          "type": "string",
          "description": "部门id（如果是根节点，则为公司id）"
        },
        "name": {
          "type": "string",
          "description": "部门名（如果是根节点，怎为公司名字）"
        },
        "department": {
          "type": "array",
          "items": {
            "$ref": "DepartmentTree"
          }
        },
        "manager": {
          "type": "array",
          "items": {
            "$ref": "Member"
          }
        }
      }
    },
    "Tags": {
      "title": "Tags",
      "type": "object",
      "properties": {
        "tags": {
          "type": "array",
          "description": "tags",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "Comment": {
      "title": "Comment",
      "type": "object",
      "description": "comment",
      "properties": {
        "host_id": {
          "type": "string"
        },
        "content": {
          "type": "string"
        },
        "poster": {
          "type": "object",
          "properties": {
            "_id": {
              "type": "string"
            },
            "cid": {
              "type": "string"
            },
            "cname": {
              "type": "string"
            },
            "nickname": {
              "type": "string"
            },
            "realname": {
              "type": "string"
            },
            "photo": {
              "type": "string"
            }
          }
        },
        "reply_to": {
          "type": "object",
          "properties": {
            "_id": {
              "type": "string"
            },
            "nickname": {
              "type": "string"
            }
          }
        },
        "reply_count": {
          "type": "integer",
          "format": "int32"
        },
        "status": {
          "type": "string",
          "enum": [
            "active",
            "delete",
            "shield"
          ]
        },
        "host_type": {
          "type": "string",
          "enum": [
            "campaign",
            "comment"
          ]
        },
        "pothos": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "_id": {
                "type": "string"
              },
              "uri": {
                "type": "string"
              }
            }
          }
        }
      }
    },
    "Message": {
      "title": "Message",
      "descriptions": "message",
      "type": "object",
      "properties": {
        "rec_id": {
          "type": "string"
        },
        "MessageContent": {
          "type": "string"
        },
        "type": {
          "type": "string",
          "enum": [
            "private",
            "team",
            "department",
            "company",
            "global"
          ]
        },
        "status": {
          "type": "string",
          "enum": [
            "unread",
            "read",
            "delete",
            "sender_delete"
          ]
        },
        "specific_type": {
          "type": "object",
          "properties": {
            "value": {
              "type": "integer",
              "format": "int32"
            },
            "child_type": {
              "type": "integer",
              "format": "int32"
            }
          }
        }
      }
    },
    "PhotoAlbum": {
      "title": "PhotoAlbum",
      "type": "object",
      "required": [
        "_id",
        "name",
        "updateDate",
        "updateUser",
        "photoCount"
      ],
      "properties": {
        "_id": {
          "type": "string",
          "description": "相册id"
        },
        "name": {
          "type": "string",
          "description": "相册名"
        },
        "updateDate": {
          "type": "string",
          "format": "date-time",
          "description": "上次更新时间"
        },
        "updateUser": {
          "$ref": "UpdateUser"
        },
        "photoCount": {
          "type": "integer",
          "format": "int32",
          "description": "照片数"
        }
      }
    },
    "Photo": {
      "title": "Photo",
      "type": "object",
      "required": [
        "_id",
        "url",
        "name",
        "uploadUser",
        "uploadDate"
      ],
      "properties": {
        "_id": {
          "type": "string",
          "description": "照片id"
        },
        "url": {
          "type": "string",
          "description": "照片url"
        },
        "name": {
          "type": "string",
          "description": "照片名称"
        },
        "uploadUser": {
          "$ref": "UpdateUser"
        },
        "uploadDate": {
          "type": "string",
          "description": "上传时间",
          "format": "date-time"
        }
      }
    },
    "Error": {
      "title": "Error",
      "description": "Error",
      "type": "object",
      "properties": {
        "msg": {
          "type": "string"
        }
      }
    },
    "CreateTeamsForm": {
      "title": "CreateTeamsForm",
      "required": [
        "companyId",
        "SelectedGroups"
      ],
      "properties": {
        "companyId": {
          "description": "公司id",
          "type": "string"
        },
        "SelectedGroups": {
          "description": "所选小队",
          "type": "array",
          "items": {
            "$ref": "SelectedGroups"
          }
        }
      }
    },
    "SelectedGroups": {
      "title": "SelectedGroups",
      "required": [
        "groupType"
      ],
      "properties": {
        "groupType": {
          "type": "string",
          "description": "小队类型"
        },
        "teamName": {
          "type": "string",
          "description": "小队名称"
        }
      }
    },
    "Team": {
      "title": "Team",
      "required": [
        "name",
        "cname",
        "logo",
        "create_time",
        "brief",
        "home_court",
        "family"
      ],
      "properties": {
        "name": {
          "type": "string",
          "description": "小队名称"
        },
        "cname": {
          "type": "string",
          "description": "公司名称"
        },
        "logo": {
          "type": "string",
          "description": "logo"
        },
        "group_type": {
          "type": "string",
          "description": "小队类型"
        },
        "create_time": {
          "type": "date-time",
          "description": "成立时间"
        },
        "brief": {
          "type": "string",
          "description": "小队简介"
        },
        "member": {
          "type": "array",
          "description": "成员列表",
          "items": {
            "$ref": "Member"
          }
        },
        "home_court": {
          "type": "array",
          "description": "主场信息",
          "items": {
            "$ref": "HomeCourt"
          }
        },
        "leader": {
          "type": "array",
          "description": "队长信息",
          "items": {
            "$ref": "Member"
          }
        },
        "family": {
          "type": "array",
          "description": "全家福",
          "items": {
            "$ref": "FamilyPhoto"
          }
        }
      }
    },
    "HomeCourt": {
      "title": "HomeCourt",
      "required": [
        "loc",
        "name"
      ],
      "properties": {
        "loc": {
          "description": "坐标信息",
          "$ref": "HomeCourtLoc"
        },
        "name": {
          "type": "string",
          "description": "主场名"
        }
      }
    },
    "HomeCourtLoc": {
      "title": "HomeCourtLoc",
      "required": [
        "coordinates"
      ],
      "properties": {
        "coordinates": {
          "type": "array",
          "description": "坐标",
          "items": {
            "type": "object"
          }
        }
      }
    },
    "FamilyPhoto": {
      "title": "FamilyPhoto",
      "required": [
        "_id",
        "uri",
        "select"
      ],
      "properties": {
        "_id": {
          "type": "string",
          "description": "照片id"
        },
        "uri": {
          "type": "string",
          "description": "照片url"
        },
        "select": {
          "type": "boolean",
          "description": "是否选择"
        }
      }
    },
    "Photos": {
      "title": "Photos",
      "properties": {
        "photos": {
          "type": "array",
          "items": {
            "$ref": "Photo"
          }
        }
      }
    },
    "CreatePhotoAlbumForm": {
      "title": "CreatePhotoAlbumForm",
      "type": "object",
      "required": [
        "ownerModel",
        "ownerId",
        "cid",
        "tid",
        "name"
      ],
      "properties": {
        "ownerModel": {
          "type": "string",
          "description": "所属model的类型，目前只允许是'company_group'"
        },
        "ownerId": {
          "type": "string",
          "description": "所属model的id"
        },
        "cid": {
          "type": "string",
          "description": "所属公司id"
        },
        "tid": {
          "type": "string",
          "description": "所属小队id"
        },
        "name": {
          "type": "string",
          "description": "相册名"
        }
      }
    },
    "UpdateUser": {
      "title": "UpdateUser",
      "type": "object",
      "required": [
        "_id",
        "name",
        "type"
      ],
      "properties": {
        "_id": {
          "type": "string",
          "description": "更新者id"
        },
        "name": {
          "type": "string",
          "description": "更新者的名字（公司名或用户昵称）"
        },
        "type": {
          "type": "string",
          "description": "用户类型，'hr' or 'user'"
        }
      }
    },
    "PhotoForList": {
      "title": "PhotoForList",
      "type": "object",
      "required": [
        "_id",
        "url",
        "name"
      ],
      "properties": {
        "_id": {
          "type": "string",
          "description": "照片id"
        },
        "url": {
          "type": "string",
          "description": "照片url"
        },
        "name": {
          "type": "string",
          "description": "照片名称"
        }
      }
    },
    "PushData": {
      "title": "PushData",
      "required": [
        "title",
        "description"
      ],
      "properties": {
        "title": {
          "type": "string",
          "description": "活动主题"
        },
        "description": {
          "type": "string",
          "description": "详细内容"
        },
        "members": {
          "type": "array",
          "description": "接收用户",
          "items": {
            "$ref": "PushUser"
          }
        }
      }
    },
    "PushUser": {
      "title": "PushUser",
      "properties": {
        "_id": {
          "type": "string",
          "description": "userId"
        }
      }
    },
    "RegionData": {
      "title": "RegionData",
      "required": [
        "regions"
      ],
      "properties": {
        "regions": {
          "type": "array",
          "items": {
            "$ref": "Province"
          }
        }
      }
    },
    "Province": {
      "title": "Province",
      "required": [
        "label",
        "value",
        "data"
      ],
      "properties": {
        "label": {
          "type": "string"
        },
        "value": {
          "type": "string"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "City"
          }
        }
      }
    },
    "City": {
      "title": "City",
      "required": [
        "label",
        "value",
        "data"
      ],
      "properties": {
        "label": {
          "type": "string"
        },
        "value": {
          "type": "string"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "District"
          }
        }
      }
    },
    "District": {
      "title": "District",
      "required": [
        "label",
        "value"
      ],
      "properties": {
        "label": {
          "type": "string"
        },
        "value": {
          "type": "string"
        }
      }
    }
  }
}